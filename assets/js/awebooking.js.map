{"version":3,"file":"awebooking.js","sources":["node_modules/accounting/accounting.js","node_modules/debounce/index.js","node_modules/is-mobile/index.js","node_modules/strict-uri-encode/index.js","node_modules/decode-uri-component/index.js","node_modules/query-string/index.js","assets/babel/core/util.js","assets/babel/core/dropdown.js","assets/babel/core/date-utils.js","assets/babel/awebooking.js"],"sourcesContent":["/*!\n * accounting.js v0.4.1\n * Copyright 2014 Open Exchange Rates\n *\n * Freely distributable under the MIT license.\n * Portions of accounting.js are inspired or borrowed from underscore.js\n *\n * Full details and documentation:\n * http://openexchangerates.github.io/accounting.js/\n */\n\n(function(root, undefined) {\n\n\t/* --- Setup --- */\n\n\t// Create the local library object, to be exported or referenced globally later\n\tvar lib = {};\n\n\t// Current version\n\tlib.version = '0.4.1';\n\n\n\t/* --- Exposed settings --- */\n\n\t// The library's settings configuration object. Contains default parameters for\n\t// currency and number formatting\n\tlib.settings = {\n\t\tcurrency: {\n\t\t\tsymbol : \"$\",\t\t// default currency symbol is '$'\n\t\t\tformat : \"%s%v\",\t// controls output: %s = symbol, %v = value (can be object, see docs)\n\t\t\tdecimal : \".\",\t\t// decimal point separator\n\t\t\tthousand : \",\",\t\t// thousands separator\n\t\t\tprecision : 2,\t\t// decimal places\n\t\t\tgrouping : 3\t\t// digit grouping (not implemented yet)\n\t\t},\n\t\tnumber: {\n\t\t\tprecision : 0,\t\t// default precision on numbers is 0\n\t\t\tgrouping : 3,\t\t// digit grouping (not implemented yet)\n\t\t\tthousand : \",\",\n\t\t\tdecimal : \".\"\n\t\t}\n\t};\n\n\n\t/* --- Internal Helper Methods --- */\n\n\t// Store reference to possibly-available ECMAScript 5 methods for later\n\tvar nativeMap = Array.prototype.map,\n\t\tnativeIsArray = Array.isArray,\n\t\ttoString = Object.prototype.toString;\n\n\t/**\n\t * Tests whether supplied parameter is a string\n\t * from underscore.js\n\t */\n\tfunction isString(obj) {\n\t\treturn !!(obj === '' || (obj && obj.charCodeAt && obj.substr));\n\t}\n\n\t/**\n\t * Tests whether supplied parameter is a string\n\t * from underscore.js, delegates to ECMA5's native Array.isArray\n\t */\n\tfunction isArray(obj) {\n\t\treturn nativeIsArray ? nativeIsArray(obj) : toString.call(obj) === '[object Array]';\n\t}\n\n\t/**\n\t * Tests whether supplied parameter is a true object\n\t */\n\tfunction isObject(obj) {\n\t\treturn obj && toString.call(obj) === '[object Object]';\n\t}\n\n\t/**\n\t * Extends an object with a defaults object, similar to underscore's _.defaults\n\t *\n\t * Used for abstracting parameter handling from API methods\n\t */\n\tfunction defaults(object, defs) {\n\t\tvar key;\n\t\tobject = object || {};\n\t\tdefs = defs || {};\n\t\t// Iterate over object non-prototype properties:\n\t\tfor (key in defs) {\n\t\t\tif (defs.hasOwnProperty(key)) {\n\t\t\t\t// Replace values with defaults only if undefined (allow empty/zero values):\n\t\t\t\tif (object[key] == null) object[key] = defs[key];\n\t\t\t}\n\t\t}\n\t\treturn object;\n\t}\n\n\t/**\n\t * Implementation of `Array.map()` for iteration loops\n\t *\n\t * Returns a new Array as a result of calling `iterator` on each array value.\n\t * Defers to native Array.map if available\n\t */\n\tfunction map(obj, iterator, context) {\n\t\tvar results = [], i, j;\n\n\t\tif (!obj) return results;\n\n\t\t// Use native .map method if it exists:\n\t\tif (nativeMap && obj.map === nativeMap) return obj.map(iterator, context);\n\n\t\t// Fallback for native .map:\n\t\tfor (i = 0, j = obj.length; i < j; i++ ) {\n\t\t\tresults[i] = iterator.call(context, obj[i], i, obj);\n\t\t}\n\t\treturn results;\n\t}\n\n\t/**\n\t * Check and normalise the value of precision (must be positive integer)\n\t */\n\tfunction checkPrecision(val, base) {\n\t\tval = Math.round(Math.abs(val));\n\t\treturn isNaN(val)? base : val;\n\t}\n\n\n\t/**\n\t * Parses a format string or object and returns format obj for use in rendering\n\t *\n\t * `format` is either a string with the default (positive) format, or object\n\t * containing `pos` (required), `neg` and `zero` values (or a function returning\n\t * either a string or object)\n\t *\n\t * Either string or format.pos must contain \"%v\" (value) to be valid\n\t */\n\tfunction checkCurrencyFormat(format) {\n\t\tvar defaults = lib.settings.currency.format;\n\n\t\t// Allow function as format parameter (should return string or object):\n\t\tif ( typeof format === \"function\" ) format = format();\n\n\t\t// Format can be a string, in which case `value` (\"%v\") must be present:\n\t\tif ( isString( format ) && format.match(\"%v\") ) {\n\n\t\t\t// Create and return positive, negative and zero formats:\n\t\t\treturn {\n\t\t\t\tpos : format,\n\t\t\t\tneg : format.replace(\"-\", \"\").replace(\"%v\", \"-%v\"),\n\t\t\t\tzero : format\n\t\t\t};\n\n\t\t// If no format, or object is missing valid positive value, use defaults:\n\t\t} else if ( !format || !format.pos || !format.pos.match(\"%v\") ) {\n\n\t\t\t// If defaults is a string, casts it to an object for faster checking next time:\n\t\t\treturn ( !isString( defaults ) ) ? defaults : lib.settings.currency.format = {\n\t\t\t\tpos : defaults,\n\t\t\t\tneg : defaults.replace(\"%v\", \"-%v\"),\n\t\t\t\tzero : defaults\n\t\t\t};\n\n\t\t}\n\t\t// Otherwise, assume format was fine:\n\t\treturn format;\n\t}\n\n\n\t/* --- API Methods --- */\n\n\t/**\n\t * Takes a string/array of strings, removes all formatting/cruft and returns the raw float value\n\t * Alias: `accounting.parse(string)`\n\t *\n\t * Decimal must be included in the regular expression to match floats (defaults to\n\t * accounting.settings.number.decimal), so if the number uses a non-standard decimal \n\t * separator, provide it as the second argument.\n\t *\n\t * Also matches bracketed negatives (eg. \"$ (1.99)\" => -1.99)\n\t *\n\t * Doesn't throw any errors (`NaN`s become 0) but this may change in future\n\t */\n\tvar unformat = lib.unformat = lib.parse = function(value, decimal) {\n\t\t// Recursively unformat arrays:\n\t\tif (isArray(value)) {\n\t\t\treturn map(value, function(val) {\n\t\t\t\treturn unformat(val, decimal);\n\t\t\t});\n\t\t}\n\n\t\t// Fails silently (need decent errors):\n\t\tvalue = value || 0;\n\n\t\t// Return the value as-is if it's already a number:\n\t\tif (typeof value === \"number\") return value;\n\n\t\t// Default decimal point comes from settings, but could be set to eg. \",\" in opts:\n\t\tdecimal = decimal || lib.settings.number.decimal;\n\n\t\t // Build regex to strip out everything except digits, decimal point and minus sign:\n\t\tvar regex = new RegExp(\"[^0-9-\" + decimal + \"]\", [\"g\"]),\n\t\t\tunformatted = parseFloat(\n\t\t\t\t(\"\" + value)\n\t\t\t\t.replace(/\\((.*)\\)/, \"-$1\") // replace bracketed values with negatives\n\t\t\t\t.replace(regex, '')         // strip out any cruft\n\t\t\t\t.replace(decimal, '.')      // make sure decimal point is standard\n\t\t\t);\n\n\t\t// This will fail silently which may cause trouble, let's wait and see:\n\t\treturn !isNaN(unformatted) ? unformatted : 0;\n\t};\n\n\n\t/**\n\t * Implementation of toFixed() that treats floats more like decimals\n\t *\n\t * Fixes binary rounding issues (eg. (0.615).toFixed(2) === \"0.61\") that present\n\t * problems for accounting- and finance-related software.\n\t */\n\tvar toFixed = lib.toFixed = function(value, precision) {\n\t\tprecision = checkPrecision(precision, lib.settings.number.precision);\n\t\tvar power = Math.pow(10, precision);\n\n\t\t// Multiply up by precision, round accurately, then divide and use native toFixed():\n\t\treturn (Math.round(lib.unformat(value) * power) / power).toFixed(precision);\n\t};\n\n\n\t/**\n\t * Format a number, with comma-separated thousands and custom precision/decimal places\n\t * Alias: `accounting.format()`\n\t *\n\t * Localise by overriding the precision and thousand / decimal separators\n\t * 2nd parameter `precision` can be an object matching `settings.number`\n\t */\n\tvar formatNumber = lib.formatNumber = lib.format = function(number, precision, thousand, decimal) {\n\t\t// Resursively format arrays:\n\t\tif (isArray(number)) {\n\t\t\treturn map(number, function(val) {\n\t\t\t\treturn formatNumber(val, precision, thousand, decimal);\n\t\t\t});\n\t\t}\n\n\t\t// Clean up number:\n\t\tnumber = unformat(number);\n\n\t\t// Build options object from second param (if object) or all params, extending defaults:\n\t\tvar opts = defaults(\n\t\t\t\t(isObject(precision) ? precision : {\n\t\t\t\t\tprecision : precision,\n\t\t\t\t\tthousand : thousand,\n\t\t\t\t\tdecimal : decimal\n\t\t\t\t}),\n\t\t\t\tlib.settings.number\n\t\t\t),\n\n\t\t\t// Clean up precision\n\t\t\tusePrecision = checkPrecision(opts.precision),\n\n\t\t\t// Do some calc:\n\t\t\tnegative = number < 0 ? \"-\" : \"\",\n\t\t\tbase = parseInt(toFixed(Math.abs(number || 0), usePrecision), 10) + \"\",\n\t\t\tmod = base.length > 3 ? base.length % 3 : 0;\n\n\t\t// Format the number:\n\t\treturn negative + (mod ? base.substr(0, mod) + opts.thousand : \"\") + base.substr(mod).replace(/(\\d{3})(?=\\d)/g, \"$1\" + opts.thousand) + (usePrecision ? opts.decimal + toFixed(Math.abs(number), usePrecision).split('.')[1] : \"\");\n\t};\n\n\n\t/**\n\t * Format a number into currency\n\t *\n\t * Usage: accounting.formatMoney(number, symbol, precision, thousandsSep, decimalSep, format)\n\t * defaults: (0, \"$\", 2, \",\", \".\", \"%s%v\")\n\t *\n\t * Localise by overriding the symbol, precision, thousand / decimal separators and format\n\t * Second param can be an object matching `settings.currency` which is the easiest way.\n\t *\n\t * To do: tidy up the parameters\n\t */\n\tvar formatMoney = lib.formatMoney = function(number, symbol, precision, thousand, decimal, format) {\n\t\t// Resursively format arrays:\n\t\tif (isArray(number)) {\n\t\t\treturn map(number, function(val){\n\t\t\t\treturn formatMoney(val, symbol, precision, thousand, decimal, format);\n\t\t\t});\n\t\t}\n\n\t\t// Clean up number:\n\t\tnumber = unformat(number);\n\n\t\t// Build options object from second param (if object) or all params, extending defaults:\n\t\tvar opts = defaults(\n\t\t\t\t(isObject(symbol) ? symbol : {\n\t\t\t\t\tsymbol : symbol,\n\t\t\t\t\tprecision : precision,\n\t\t\t\t\tthousand : thousand,\n\t\t\t\t\tdecimal : decimal,\n\t\t\t\t\tformat : format\n\t\t\t\t}),\n\t\t\t\tlib.settings.currency\n\t\t\t),\n\n\t\t\t// Check format (returns object with pos, neg and zero):\n\t\t\tformats = checkCurrencyFormat(opts.format),\n\n\t\t\t// Choose which format to use for this value:\n\t\t\tuseFormat = number > 0 ? formats.pos : number < 0 ? formats.neg : formats.zero;\n\n\t\t// Return with currency symbol added:\n\t\treturn useFormat.replace('%s', opts.symbol).replace('%v', formatNumber(Math.abs(number), checkPrecision(opts.precision), opts.thousand, opts.decimal));\n\t};\n\n\n\t/**\n\t * Format a list of numbers into an accounting column, padding with whitespace\n\t * to line up currency symbols, thousand separators and decimals places\n\t *\n\t * List should be an array of numbers\n\t * Second parameter can be an object containing keys that match the params\n\t *\n\t * Returns array of accouting-formatted number strings of same length\n\t *\n\t * NB: `white-space:pre` CSS rule is required on the list container to prevent\n\t * browsers from collapsing the whitespace in the output strings.\n\t */\n\tlib.formatColumn = function(list, symbol, precision, thousand, decimal, format) {\n\t\tif (!list) return [];\n\n\t\t// Build options object from second param (if object) or all params, extending defaults:\n\t\tvar opts = defaults(\n\t\t\t\t(isObject(symbol) ? symbol : {\n\t\t\t\t\tsymbol : symbol,\n\t\t\t\t\tprecision : precision,\n\t\t\t\t\tthousand : thousand,\n\t\t\t\t\tdecimal : decimal,\n\t\t\t\t\tformat : format\n\t\t\t\t}),\n\t\t\t\tlib.settings.currency\n\t\t\t),\n\n\t\t\t// Check format (returns object with pos, neg and zero), only need pos for now:\n\t\t\tformats = checkCurrencyFormat(opts.format),\n\n\t\t\t// Whether to pad at start of string or after currency symbol:\n\t\t\tpadAfterSymbol = formats.pos.indexOf(\"%s\") < formats.pos.indexOf(\"%v\") ? true : false,\n\n\t\t\t// Store value for the length of the longest string in the column:\n\t\t\tmaxLength = 0,\n\n\t\t\t// Format the list according to options, store the length of the longest string:\n\t\t\tformatted = map(list, function(val, i) {\n\t\t\t\tif (isArray(val)) {\n\t\t\t\t\t// Recursively format columns if list is a multi-dimensional array:\n\t\t\t\t\treturn lib.formatColumn(val, opts);\n\t\t\t\t} else {\n\t\t\t\t\t// Clean up the value\n\t\t\t\t\tval = unformat(val);\n\n\t\t\t\t\t// Choose which format to use for this value (pos, neg or zero):\n\t\t\t\t\tvar useFormat = val > 0 ? formats.pos : val < 0 ? formats.neg : formats.zero,\n\n\t\t\t\t\t\t// Format this value, push into formatted list and save the length:\n\t\t\t\t\t\tfVal = useFormat.replace('%s', opts.symbol).replace('%v', formatNumber(Math.abs(val), checkPrecision(opts.precision), opts.thousand, opts.decimal));\n\n\t\t\t\t\tif (fVal.length > maxLength) maxLength = fVal.length;\n\t\t\t\t\treturn fVal;\n\t\t\t\t}\n\t\t\t});\n\n\t\t// Pad each number in the list and send back the column of numbers:\n\t\treturn map(formatted, function(val, i) {\n\t\t\t// Only if this is a string (not a nested array, which would have already been padded):\n\t\t\tif (isString(val) && val.length < maxLength) {\n\t\t\t\t// Depending on symbol position, pad after symbol or at index 0:\n\t\t\t\treturn padAfterSymbol ? val.replace(opts.symbol, opts.symbol+(new Array(maxLength - val.length + 1).join(\" \"))) : (new Array(maxLength - val.length + 1).join(\" \")) + val;\n\t\t\t}\n\t\t\treturn val;\n\t\t});\n\t};\n\n\n\t/* --- Module Definition --- */\n\n\t// Export accounting for CommonJS. If being loaded as an AMD module, define it as such.\n\t// Otherwise, just add `accounting` to the global object\n\tif (typeof exports !== 'undefined') {\n\t\tif (typeof module !== 'undefined' && module.exports) {\n\t\t\texports = module.exports = lib;\n\t\t}\n\t\texports.accounting = lib;\n\t} else if (typeof define === 'function' && define.amd) {\n\t\t// Return the library as an AMD module:\n\t\tdefine([], function() {\n\t\t\treturn lib;\n\t\t});\n\t} else {\n\t\t// Use accounting.noConflict to restore `accounting` back to its original value.\n\t\t// Returns a reference to the library's `accounting` object;\n\t\t// e.g. `var numbers = accounting.noConflict();`\n\t\tlib.noConflict = (function(oldAccounting) {\n\t\t\treturn function() {\n\t\t\t\t// Reset the value of the root's `accounting` variable:\n\t\t\t\troot.accounting = oldAccounting;\n\t\t\t\t// Delete the noConflict method:\n\t\t\t\tlib.noConflict = undefined;\n\t\t\t\t// Return reference to the library to re-assign it:\n\t\t\t\treturn lib;\n\t\t\t};\n\t\t})(root.accounting);\n\n\t\t// Declare `fx` on the root (global/window) object:\n\t\troot['accounting'] = lib;\n\t}\n\n\t// Root will be `window` in browser or `global` on the server:\n}(this));\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","'use strict'\n\nmodule.exports = isMobile;\nmodule.exports.isMobile = isMobile;\n\nvar mobileRE = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i;\n\nvar tabletRE = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;\n\nfunction isMobile (opts) {\n  if (!opts) opts = {}\n  var ua = opts.ua\n  if (!ua && typeof navigator !== 'undefined') ua = navigator.userAgent;\n  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {\n    ua = ua.headers['user-agent'];\n  }\n  if (typeof ua !== 'string') return false;\n\n  return opts.tablet\n    ? tabletRE.test(ua)\n    : mobileRE.test(ua);\n}\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, index) => {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, options),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t\tcase 'bracket':\n\t\t\treturn (key, value) => {\n\t\t\t\treturn value === null ? [encode(key, options), '[]'].join('') : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t\tdefault:\n\t\t\treturn (key, value) => {\n\t\t\t\treturn value === null ? encode(key, options) : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction extract(input) {\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({decode: true, arrayFormat: 'none'}, options);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = param.replace(/\\+/g, ' ').split('=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : decode(value, options);\n\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\treturn Object.keys(ret).sort().reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (obj, options) => {\n\tif (!obj) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t}, options);\n\n\tconst formatter = encoderForArrayFormat(options);\n\tconst keys = Object.keys(obj);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = obj[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tconst result = [];\n\n\t\t\tfor (const value2 of value.slice()) {\n\t\t\t\tif (value2 === undefined) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, value2, result.length));\n\t\t\t}\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (input, options) => {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn {\n\t\turl: input.split('?')[0] || '',\n\t\tquery: parse(extract(input), options)\n\t};\n};\n","import debounce from 'debounce'\nimport isMobile from 'is-mobile'\nimport * as queryString from 'query-string'\n\nconst Utils = (function($) {\n  function getTransitionEndEvent() {\n    let transitionEndEvent = '';\n\n    const transitionEndEvents = {\n      'WebkitTransition' : 'webkitTransitionEnd',\n      'MozTransition'    : 'transitionend',\n      'OTransition'      : 'otransitionend',\n      'transition'       : 'transitionend'\n    };\n\n    for (let name in transitionEndEvents) {\n      if ({}.hasOwnProperty.call(transitionEndEvents, name)) {\n        let tempEl = document.createElement('p');\n        if (typeof tempEl.style[name] !== 'undefined') {\n          transitionEndEvent = transitionEndEvents[name];\n        }\n      }\n    }\n\n    return transitionEndEvent;\n  }\n\n  return {\n    isMobile: isMobile,\n    debounce: debounce,\n\n    queryString: queryString,\n\n    TRANSITION_END: getTransitionEndEvent(),\n\n    onTransitionEnd(el, callback) {\n      let called = false\n\n      $(el).one(this.TRANSITION_END, () => {\n        callback()\n        called = true\n      })\n\n      setTimeout(() => {\n        if (!called) $(el).trigger(this.TRANSITION_END)\n      }, this.getTransitionDurationFromElement(el))\n    },\n\n    getTransitionDurationFromElement(element) {\n      if (!element) {\n        return 0;\n      }\n\n      // Get transition-duration of the element.\n      let transitionDuration = $(element).css('transition-duration');\n      const floatTransitionDuration = parseFloat(transitionDuration);\n\n      // Return 0 if element or transition duration is not found.\n      if (!floatTransitionDuration) {\n        return 0;\n      }\n\n      // If multiple durations are defined, take the first.\n      transitionDuration = transitionDuration.split(',')[0];\n\n      return parseFloat(transitionDuration) * 1000;\n    },\n\n    getTargetFromElement(element) {\n      let selector = element.getAttribute('data-target');\n\n      if (!selector || selector === '#') {\n        selector = element.getAttribute('href') || '';\n      }\n\n      try {\n        return document.querySelector(selector) ? selector : null;\n      } catch (err) {\n        return null;\n      }\n    },\n  }\n})(jQuery)\n\nexport default Utils\n","import Util from './util'\n\nconst Dropdown = (($, Popper) => {\n  'use strict';\n\n  class Dropdown {\n    constructor(element, options) {\n      this.element = element;\n      this.options = Object.assign({}, Dropdown.defaults, options);\n      this.drop    = this._getDropElement();\n      this.popper  = null;\n\n      if (! this.drop || typeof this.drop === 'undefined') {\n        throw new Error('Drop Error: Cannot find the drop element.');\n      }\n\n      if (typeof Popper !== 'undefined' && ! this.popper) {\n        let referenceElement = this.element;\n        this.popper = new Popper(referenceElement, this.drop, this._getPopperConfig());\n      }\n\n      this._addEventListeners();\n      Dropdown.allDrops.push(this);\n    }\n\n    isOpened() {\n      return this.drop.classList.contains('open');\n    }\n\n    isDisabled() {\n      return (this.element.disabled || this.element.classList.contains('disabled'));\n    }\n\n    toggle() {\n      if (this.isOpened()) {\n        this.close();\n      } else {\n        this.open();\n      }\n    }\n\n    open() {\n      if (this.isDisabled() || this.isOpened()) {\n        return;\n      }\n\n      this.element.focus();\n      this.element.setAttribute('aria-expanded', true);\n\n      // If this is a touch-enabled device we add extra\n      // empty mouseover listeners to the body's immediate children;\n      // only needed because of broken event delegation on iOS\n      // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n      if ('ontouchstart' in document.documentElement) {\n        $(document.body).children().on('mouseover', null, $.noop);\n      }\n\n      this.drop.classList.add('open');\n      this.drop.setAttribute('aria-hidden', true);\n\n      if (this.popper) {\n        this.popper.update();\n      }\n\n      setTimeout(() => { this.drop.classList.add('open--transition'); });\n    }\n\n    close() {\n      if (this.isDisabled() || !this.isOpened()) {\n        return;\n      }\n\n      // If this is a touch-enabled device we remove the extra\n      // empty mouseover listeners we added for iOS support\n      if ('ontouchstart' in document.documentElement) {\n        $(document.body).children().off('mouseover', null, $.noop);\n      }\n\n      this.element.setAttribute('aria-expanded', false)\n      this.drop.removeAttribute('aria-hidden');\n      this.drop.classList.remove('open--transition')\n\n      Util.onTransitionEnd(this.drop, () => {\n        this.drop.classList.remove('open');\n      })\n    }\n\n    _addEventListeners() {\n      if (!this.options.openOn) {\n        return;\n      }\n\n      if (this.options.openOn === 'always') {\n        setTimeout(this.open.bind(this));\n        return;\n      }\n\n      const events = this.options.openOn.split(' ');\n\n      if (events.indexOf('click') >= 0) {\n        $(this.element).on('click', (e) => {\n          e.preventDefault();\n          // e.stopPropagation();\n\n          this.toggle();\n        });\n\n        $(document).on('click', (e) => {\n          if (! this.isOpened()) {\n            return;\n          }\n\n          // Clicking inside dropdown\n          if (e.target === this.drop || this.drop.contains(e.target)) {\n            return;\n          }\n\n          // Clicking target\n          if (e.target === this.element || this.element.contains(e.target)) {\n            return;\n          }\n\n          this.close(e);\n        });\n      }\n\n      if (events.indexOf('hover') >= 0) {\n        // TODO: ...\n      }\n\n      if (events.indexOf('focus') >= 0) {\n        // TODO: ...\n      }\n    }\n\n    _getDropElement() {\n      if (!this.drop) {\n        const parent = this.element.parentNode;\n        const target = Util.getTargetFromElement(this.element);\n\n        if (target) {\n          this.drop = document.querySelector(target);\n        } else {\n          this.drop = parent ? parent.querySelector(this.options.drop) : null;\n        }\n      }\n\n      return this.drop;\n    }\n\n    _getPopperConfig() {\n      const offset = {};\n\n      if (typeof this.options.offset === 'function') {\n        offset.fn = (data) => {\n          data.offsets = Object.assign({}, data.offsets, this.options.offset(data.offsets) || {});\n          return data;\n        };\n      } else {\n        offset.offset = this.options.offset;\n      }\n\n      const config = {\n        placement: this._getPlacement(),\n        modifiers: {\n          offset: offset,\n          flip: { enabled: this.options.flip },\n          preventOverflow: { boundariesElement: this.options.boundary }\n        }\n      };\n\n      // Disable Popper.js if we have a static display.\n      if (this.options.display === 'static') {\n        config.modifiers.applyStyle = {\n          enabled: false\n        };\n      }\n\n      return config;\n    }\n\n    _getPlacement() {\n      return 'bottom-start';\n    }\n  }\n\n  // Store dropdown instances.\n  Dropdown.allDrops = [];\n\n  Dropdown.defaults = {\n    drop: '[data-drop]',\n    offset: 0,\n    flip: true,\n    openOn: 'click',\n    boundary: 'scrollParent',\n    reference: 'toggle',\n    display: 'dynamic',\n  };\n\n  return Dropdown;\n})(jQuery, window.Popper);\n\nexport default Dropdown;\n","const DateUtils = (function () {\n  const pad = (number) => `0${number}`.slice(-2)\n  const int = (bool) => (bool === true ? 1 : 0)\n  const monthToStr = (monthNumber, shorthand, locale) => locale.months[shorthand ? 'shorthand' : 'longhand'][monthNumber]\n\n  const tokenRegex = {\n    D: \"(\\\\w+)\",\n    F: \"(\\\\w+)\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"(\\\\w+)\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"(\\\\w+)\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n  };\n\n  const revFormat = {\n    D: () => undefined,\n\n    F: function (date, monthName, locale) {\n      date.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n\n    G: (date, hour) => {\n      date.setHours(parseFloat(hour));\n    },\n\n    H: (date, hour) => {\n      date.setHours(parseFloat(hour));\n    },\n\n    J: (date, day) => {\n      date.setDate(parseFloat(day));\n    },\n\n    K: (date, amPM, locale) => {\n      date.setHours((date.getHours() % 12) + 12 * int(new RegExp(locale.amPM[1], 'i').test(amPM)))\n    },\n\n    M: function (date, shortMonth, locale) {\n      date.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n\n    S: (date, seconds) => {\n      date.setSeconds(parseFloat(seconds));\n    },\n\n    U: (_, unixSeconds) => new Date(parseFloat(unixSeconds) * 1000),\n\n    W: function (date, weekNum) {\n      const weekNumber = parseInt(weekNum);\n      return new Date(date.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n    },\n\n    Y: (date, year) => {\n      date.setFullYear(parseFloat(year));\n    },\n\n    Z: (_, ISODate) => new Date(ISODate),\n\n    d: (date, day) => {\n      date.setDate(parseFloat(day));\n    },\n\n    h: (date, hour) => {\n      date.setHours(parseFloat(hour));\n    },\n\n    i: (date, minutes) => {\n      date.setMinutes(parseFloat(minutes));\n    },\n\n    j: (date, day) => {\n      date.setDate(parseFloat(day));\n    },\n\n    l: () => undefined,\n\n    m: (date, month) => {\n      date.setMonth(parseFloat(month) - 1);\n    },\n\n    n: (date, month) => {\n      date.setMonth(parseFloat(month) - 1);\n    },\n\n    s: (date, seconds) => {\n      date.setSeconds(parseFloat(seconds));\n    },\n\n    w: () => undefined,\n\n    y: (date, year) => {\n      date.setFullYear(2000 + parseFloat(year));\n    },\n  };\n\n  const formats = {\n    // Get the date in UTC\n    Z: (date) => date.toISOString(),\n\n    // Weekday name, short, e.g. Thu\n    D: function (date, locale) {\n      return locale.weekdays.shorthand[formats.w(date, locale)]\n    },\n\n    // Full month name e.g. January\n    F: function (date, locale) {\n      return monthToStr(formats.n(date, locale) - 1, false, locale)\n    },\n\n    // Padded hour 1-12\n    G: function (date, locale) {\n      return pad(formats.h(date, locale))\n    },\n\n    // Hours with leading zero e.g. 03\n    H: (date) => pad(date.getHours()),\n\n    // Day (1-30) with ordinal suffix e.g. 1st, 2nd\n    J: function (date, locale) {\n      return locale.ordinal !== undefined\n        ? date.getDate() + locale.ordinal(date.getDate())\n        : date.getDate()\n    },\n\n    // AM/PM\n    K: (date, locale) => locale.amPM[int(date.getHours() > 11)],\n\n    // Shorthand month e.g. Jan, Sep, Oct, etc\n    M: function (date, locale) {\n      return monthToStr(date.getMonth(), true, locale)\n    },\n\n    // Seconds 00-59\n    S: (date) => pad(date.getSeconds()),\n\n    // Unix timestamp\n    U: (date) => date.getTime() / 1000,\n\n    // ISO-8601 week number of year\n    W: function (date) {\n      return DateUtils.getWeek(date)\n    },\n\n    // Full year e.g. 2016\n    Y: (date) => date.getFullYear(),\n\n    // Day in month, padded (01-30)\n    d: (date) => pad(date.getDate()),\n\n    // Hour from 1-12 (am/pm)\n    h: (date) => (date.getHours() % 12 ? date.getHours() % 12 : 12),\n\n    // Minutes, padded with leading zero e.g. 09\n    i: (date) => pad(date.getMinutes()),\n\n    // Day in month (1-30)\n    j: (date) => date.getDate(),\n\n    // Weekday name, full, e.g. Thursday\n    l: function (date, locale) {\n      return locale.weekdays.longhand[date.getDay()]\n    },\n\n    // Padded month number (01-12)\n    m: (date) => pad(date.getMonth() + 1),\n\n    // The month number (1-12)\n    n: (date) => date.getMonth() + 1,\n\n    // Seconds 0-59\n    s: (date) => date.getSeconds(),\n\n    // Number of the day of the week\n    w: (date) => date.getDay(),\n\n    // Last two digits of year e.g. 16 for 2016\n    y: (date) => String(date.getFullYear()).substring(2),\n  };\n\n  return {\n    l10n: {\n      amPM: ['AM', 'PM'],\n      weekdays: {\n        shorthand: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n        longhand: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n      },\n      months: {\n        shorthand: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n        longhand: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n      },\n    },\n\n    getWeek(givenDate) {\n      const date = new Date(givenDate.getTime());\n      date.setHours(0, 0, 0, 0);\n\n      // Thursday in current week decides the year.\n      date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n\n      // January 4 is always in week 1.\n      const week1 = new Date(date.getFullYear(), 0, 4);\n\n      // Adjust to Thursday in week 1 and count number of weeks from date to week1.\n      return (1 + Math.round(((date.getTime() - week1.getTime()) / 86400000 - 3 + ((week1.getDay() + 6) % 7)) / 7))\n    },\n\n    format (date, format, locale) {\n      locale = locale || this.l10n\n\n      return format\n        .split('')\n        .map((c, i, arr) => formats[c] && arr[i - 1] !== '\\\\' ? formats[c](date, locale) : c !== '\\\\' ? c : '')\n        .join('')\n    },\n\n    parse(date, format, timeless, locale) {\n      locale = locale || this.l10n\n\n      if (date !== 0 && !date) {\n        return undefined\n      }\n\n      let parsedDate\n      const dateOrig = date\n\n      if (date instanceof Date) {\n        parsedDate = new Date(date.getTime())\n      } else if (typeof date !== 'string' && date.toFixed !== undefined) {\n        parsedDate = new Date(date)\n      } else if (typeof date === 'string') {\n        const datestr = String(date).trim()\n\n        if (datestr === 'today') {\n          parsedDate = new Date();\n          timeless = true;\n        } else if (/Z$/.test(datestr) || /GMT$/.test(datestr)) {\n          parsedDate = new Date(date);\n        } else {\n          parsedDate = new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n\n          let matched, ops = [];\n          for (let i = 0, matchIndex = 0, regexStr = ''; i < format.length; i++) {\n            const token = format[i]\n            const isBackSlash = token === '\\\\'\n            const escaped = format[i - 1] === '\\\\' || isBackSlash\n\n            if (tokenRegex[token] && !escaped) {\n              regexStr += tokenRegex[token]\n              const match = new RegExp(regexStr).exec(date)\n\n              if (match && (matched = true)) {\n                ops[token !== 'Y' ? 'push' : 'unshift']({\n                  fn: revFormat[token],\n                  val: match[++matchIndex],\n                })\n              }\n            } else if (!isBackSlash) {\n              regexStr += '.' // don't really care\n            }\n\n            ops.forEach(({fn, val}) => (parsedDate = fn(parsedDate, val, locale) || parsedDate))\n          }\n\n          parsedDate = matched ? parsedDate : undefined;\n        }\n      }\n\n      /* istanbul ignore next */\n      if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n        // config.errorHandler(new Error(`Invalid date provided: ${dateOrig}`))\n        return undefined\n      }\n\n      if (timeless === true) {\n        parsedDate.setHours(0, 0, 0, 0)\n      }\n\n      return parsedDate;\n    }\n  }\n})()\n\nexport default DateUtils\n","import $ from 'jquery'\nimport accounting from 'accounting'\nimport Dropdown from './core/dropdown'\nimport Utils from './core/util'\nimport DateUtils from './core/date-utils'\n\nlet plugin = window.awebooking = {};\n\n// Main objects\nplugin.utils = {};\nplugin.instances = {};\nplugin.i18n = window._awebooking_i18n || {};\n\nplugin.config = Object.assign( {}, {\n  route: window.location.origin + '?awebooking_route=/',\n  ajax_url: window.location.origin + '/wp-admin/admin-ajax.php',\n}, window._awebooking);\n\nplugin.utils.dates = DateUtils;\nif (typeof window.flatpickr !== 'undefined') {\n  plugin.utils.dates.l10n = flatpickr.l10ns.default;\n}\n\nplugin.utils.dropdown = function (el, config) {\n  $(el).each(function () {\n    $(this).data('abrs-dropdown', new Dropdown(this, config));\n  });\n};\n\n/**\n * The admin route.\n *\n * @param  {string} route\n * @return {string}\n */\nplugin.route = function (route) {\n  return this.config.route + (route || '').replace(/^\\//g, '');\n};\n\n/**\n * Create new datepicker.\n *\n * @see https://flatpickr.js.org/options/\n *\n * @return {flatpickr}\n */\nplugin.datepicker = function (instance, options) {\n  const i18n = plugin.i18n;\n  const defaults = plugin.config.datepicker;\n  const disable = Array.isArray(defaults.disable) ? defaults.disable : [];\n\n  if (Array.isArray(defaults.disableDays)) {\n    disable.push(function (date) {\n      return defaults.disableDays.indexOf(date.getDay()) !== -1;\n    });\n  }\n\n  // const minDate = new Date().fp_incr(defaults.min_date);\n  // const maxDate = (defaults.max_date && defaults.max_date !== 0) ? new Date().fp_incr(defaults.max_date) : '';\n\n  const _defaults = {\n    dateFormat: 'Y-m-d',\n    ariaDateFormat: i18n.dateFormat,\n    minDate: 'today',\n    // maxDate: max_date,\n    // disable: disable,\n    showMonths: defaults.showMonths || 1,\n    enableTime: false,\n    enableSeconds: false,\n    disableMobile: false,\n    onReady(_, __, fp) {\n      fp.calendarContainer.classList.add('awebooking-datepicker')\n    },\n  };\n\n  return flatpickr(instance, $.extend({}, _defaults, options));\n};\n\n/**\n * Format the price.\n *\n * @param amount\n * @returns {string}\n */\nplugin.formatPrice = function(amount) {\n  return accounting.formatMoney(amount, {\n    format: plugin.i18n.priceFormat,\n    symbol: plugin.i18n.currencySymbol,\n    decimal: plugin.i18n.decimalSeparator,\n    thousand: plugin.i18n.priceThousandSeparator,\n    precision: plugin.i18n.numberDecimals,\n  });\n};\n\n/**\n * Document ready.\n *\n * @return {void}\n */\n$(function () {\n  window.tippy('[data-awebooking=\"tooltip\"]', {\n    theme: 'awebooking-tooltip'\n  });\n\n  $('[data-init=\"awebooking-dialog\"]').each( (e, el) => {\n    const dialog = new window.A11yDialog(el);\n\n    dialog.on('show', () => {\n      el.classList.add('open');\n      el.removeAttribute('aria-hidden');\n    });\n\n    dialog.on('hide', () => {\n      el.classList.remove('open');\n      el.setAttribute('aria-hidden', true);\n    });\n  });\n\n});\n"],"names":["root","undefined","lib","version","settings","currency","symbol","format","decimal","thousand","precision","grouping","number","nativeMap","Array","prototype","map","nativeIsArray","isArray","toString","Object","isString","obj","charCodeAt","substr","call","isObject","defaults","object","defs","key","hasOwnProperty","iterator","context","results","i","j","length","checkPrecision","val","base","Math","round","abs","isNaN","checkCurrencyFormat","match","pos","neg","replace","zero","unformat","parse","value","regex","RegExp","unformatted","parseFloat","toFixed","power","pow","formatNumber","opts","usePrecision","negative","parseInt","mod","split","formatMoney","formats","useFormat","formatColumn","list","padAfterSymbol","indexOf","maxLength","formatted","fVal","join","module","exports","this","debounce","func","wait","immediate","timeout","args","timestamp","result","later","last","Date","now","setTimeout","apply","debounced","arguments","callNow","clear","clearTimeout","flush","isMobile","mobileRE","tabletRE","ua","navigator","userAgent","headers","tablet","test","str","encodeURIComponent","x","toUpperCase","token","singleMatcher","multiMatcher","decodeComponents","components","decodeURIComponent","err","left","slice","right","concat","decode","input","tokens","customDecodeURIComponent","replaceMap","exec","entries","keys","encodedURI","TypeError","encoderForArrayFormat","options","arrayFormat","index","encode","parserForArrayFormat","accumulator","strict","strictUriEncode","decodeComponent","keysSorter","sort","a","b","Number","extract","queryStart","assign","formatter","ret","create","trim","param","reduce","Boolean","value2","push","filter","hashStart","url","query","Utils","$","getTransitionEndEvent","transitionEndEvent","transitionEndEvents","name","tempEl","document","createElement","style","queryString","TRANSITION_END","onTransitionEnd","el","callback","called","one","trigger","getTransitionDurationFromElement","element","transitionDuration","css","floatTransitionDuration","getTargetFromElement","selector","getAttribute","querySelector","jQuery","Dropdown","Popper","drop","_getDropElement","popper","Error","referenceElement","_getPopperConfig","_addEventListeners","allDrops","classList","contains","disabled","isOpened","close","open","isDisabled","focus","setAttribute","documentElement","body","children","on","noop","add","update","off","removeAttribute","remove","Util","openOn","bind","events","e","preventDefault","toggle","target","parent","parentNode","offset","fn","data","offsets","config","placement","_getPlacement","modifiers","flip","enabled","preventOverflow","boundariesElement","boundary","display","applyStyle","reference","window","DateUtils","pad","int","bool","monthToStr","monthNumber","shorthand","locale","months","tokenRegex","D","F","G","H","J","K","M","S","U","W","Y","Z","d","h","l","m","n","s","w","y","revFormat","date","monthName","setMonth","longhand","hour","setHours","day","setDate","amPM","getHours","shortMonth","seconds","setSeconds","_","unixSeconds","weekNum","weekNumber","getFullYear","year","setFullYear","ISODate","minutes","setMinutes","month","toISOString","weekdays","ordinal","getDate","getMonth","getSeconds","getTime","getWeek","getMinutes","getDay","String","substring","l10n","givenDate","week1","c","arr","timeless","parsedDate","datestr","matched","ops","matchIndex","regexStr","isBackSlash","escaped","forEach","plugin","awebooking","utils","instances","i18n","_awebooking_i18n","route","location","origin","ajax_url","_awebooking","dates","flatpickr","l10ns","default","dropdown","each","datepicker","instance","disable","disableDays","_defaults","dateFormat","ariaDateFormat","minDate","showMonths","enableTime","enableSeconds","disableMobile","onReady","__","fp","calendarContainer","extend","formatPrice","amount","accounting","priceFormat","currencySymbol","decimalSeparator","priceThousandSeparator","numberDecimals","tippy","theme","dialog","A11yDialog"],"mappings":";;;;;;;;;;;;CAAA;;;;;;;;;;CAWC,aAASA,IAAT,EAAeC,SAAf,EAA0B;;;CAK1B,QAAIC,GAAG,GAAG,EAAV,CAL0B;;CAQ1BA,IAAAA,GAAG,CAACC,OAAJ,GAAc,OAAd;;;;;CAOAD,IAAAA,GAAG,CAACE,QAAJ,GAAe;CACdC,MAAAA,QAAQ,EAAE;CACTC,QAAAA,MAAM,EAAG,GADA;;CAETC,QAAAA,MAAM,EAAG,MAFA;;CAGTC,QAAAA,OAAO,EAAG,GAHD;;CAITC,QAAAA,QAAQ,EAAG,GAJF;;CAKTC,QAAAA,SAAS,EAAG,CALH;;CAMTC,QAAAA,QAAQ,EAAG,CANF;;CAAA,OADI;CASdC,MAAAA,MAAM,EAAE;CACPF,QAAAA,SAAS,EAAG,CADL;;CAEPC,QAAAA,QAAQ,EAAG,CAFJ;;CAGPF,QAAAA,QAAQ,EAAG,GAHJ;CAIPD,QAAAA,OAAO,EAAG;CAJH;CATM,KAAf;;;;CAqBA,QAAIK,SAAS,GAAGC,KAAK,CAACC,SAAN,CAAgBC,GAAhC;CAAA,QACCC,aAAa,GAAGH,KAAK,CAACI,OADvB;CAAA,QAECC,QAAQ,GAAGC,MAAM,CAACL,SAAP,CAAiBI,QAF7B;;;;;;CAQA,aAASE,QAAT,CAAkBC,GAAlB,EAAuB;CACtB,aAAO,CAAC,EAAEA,GAAG,KAAK,EAAR,IAAeA,GAAG,IAAIA,GAAG,CAACC,UAAX,IAAyBD,GAAG,CAACE,MAA9C,CAAR;CACA;;;;;;;CAMD,aAASN,OAAT,CAAiBI,GAAjB,EAAsB;CACrB,aAAOL,aAAa,GAAGA,aAAa,CAACK,GAAD,CAAhB,GAAwBH,QAAQ,CAACM,IAAT,CAAcH,GAAd,MAAuB,gBAAnE;CACA;;;;;;CAKD,aAASI,QAAT,CAAkBJ,GAAlB,EAAuB;CACtB,aAAOA,GAAG,IAAIH,QAAQ,CAACM,IAAT,CAAcH,GAAd,MAAuB,iBAArC;CACA;;;;;;;;CAOD,aAASK,QAAT,CAAkBC,MAAlB,EAA0BC,IAA1B,EAAgC;CAC/B,UAAIC,GAAJ;CACAF,MAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;CACAC,MAAAA,IAAI,GAAGA,IAAI,IAAI,EAAf,CAH+B;;CAK/B,WAAKC,GAAL,IAAYD,IAAZ,EAAkB;CACjB,YAAIA,IAAI,CAACE,cAAL,CAAoBD,GAApB,CAAJ,EAA8B;;CAE7B,cAAIF,MAAM,CAACE,GAAD,CAAN,IAAe,IAAnB,EAAyBF,MAAM,CAACE,GAAD,CAAN,GAAcD,IAAI,CAACC,GAAD,CAAlB;CACzB;CACD;;CACD,aAAOF,MAAP;CACA;;;;;;;;;CAQD,aAASZ,GAAT,CAAaM,GAAb,EAAkBU,QAAlB,EAA4BC,OAA5B,EAAqC;CACpC,UAAIC,OAAO,GAAG,EAAd;CAAA,UAAkBC,CAAlB;CAAA,UAAqBC,CAArB;CAEA,UAAI,CAACd,GAAL,EAAU,OAAOY,OAAP,CAH0B;;CAMpC,UAAIrB,SAAS,IAAIS,GAAG,CAACN,GAAJ,KAAYH,SAA7B,EAAwC,OAAOS,GAAG,CAACN,GAAJ,CAAQgB,QAAR,EAAkBC,OAAlB,CAAP,CANJ;;CASpC,WAAKE,CAAC,GAAG,CAAJ,EAAOC,CAAC,GAAGd,GAAG,CAACe,MAApB,EAA4BF,CAAC,GAAGC,CAAhC,EAAmCD,CAAC,EAApC,EAAyC;CACxCD,QAAAA,OAAO,CAACC,CAAD,CAAP,GAAaH,QAAQ,CAACP,IAAT,CAAcQ,OAAd,EAAuBX,GAAG,CAACa,CAAD,CAA1B,EAA+BA,CAA/B,EAAkCb,GAAlC,CAAb;CACA;;CACD,aAAOY,OAAP;CACA;;;;;;CAKD,aAASI,cAAT,CAAwBC,GAAxB,EAA6BC,IAA7B,EAAmC;CAClCD,MAAAA,GAAG,GAAGE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,GAAL,CAASJ,GAAT,CAAX,CAAN;CACA,aAAOK,KAAK,CAACL,GAAD,CAAL,GAAYC,IAAZ,GAAmBD,GAA1B;CACA;;;;;;;;;;;;CAYD,aAASM,mBAAT,CAA6BtC,MAA7B,EAAqC;CACpC,UAAIoB,QAAQ,GAAGzB,GAAG,CAACE,QAAJ,CAAaC,QAAb,CAAsBE,MAArC,CADoC;;CAIpC,UAAK,OAAOA,MAAP,KAAkB,UAAvB,EAAoCA,MAAM,GAAGA,MAAM,EAAf,CAJA;;CAOpC,UAAKc,QAAQ,CAAEd,MAAF,CAAR,IAAsBA,MAAM,CAACuC,KAAP,CAAa,IAAb,CAA3B,EAAgD;;CAG/C,eAAO;CACNC,UAAAA,GAAG,EAAGxC,MADA;CAENyC,UAAAA,GAAG,EAAGzC,MAAM,CAAC0C,OAAP,CAAe,GAAf,EAAoB,EAApB,EAAwBA,OAAxB,CAAgC,IAAhC,EAAsC,KAAtC,CAFA;CAGNC,UAAAA,IAAI,EAAG3C;CAHD,SAAP,CAH+C;CAU/C,OAVD,MAUO,IAAK,CAACA,MAAD,IAAW,CAACA,MAAM,CAACwC,GAAnB,IAA0B,CAACxC,MAAM,CAACwC,GAAP,CAAWD,KAAX,CAAiB,IAAjB,CAAhC,EAAyD;;CAG/D,eAAS,CAACzB,QAAQ,CAAEM,QAAF,CAAX,GAA4BA,QAA5B,GAAuCzB,GAAG,CAACE,QAAJ,CAAaC,QAAb,CAAsBE,MAAtB,GAA+B;CAC5EwC,UAAAA,GAAG,EAAGpB,QADsE;CAE5EqB,UAAAA,GAAG,EAAGrB,QAAQ,CAACsB,OAAT,CAAiB,IAAjB,EAAuB,KAAvB,CAFsE;CAG5EC,UAAAA,IAAI,EAAGvB;CAHqE,SAA7E;CAMA,OA1BmC;;;CA4BpC,aAAOpB,MAAP;CACA;;;;;;;;;;;;;;;;;CAiBD,QAAI4C,QAAQ,GAAGjD,GAAG,CAACiD,QAAJ,GAAejD,GAAG,CAACkD,KAAJ,GAAY,UAASC,KAAT,EAAgB7C,OAAhB,EAAyB;;CAElE,UAAIU,OAAO,CAACmC,KAAD,CAAX,EAAoB;CACnB,eAAOrC,GAAG,CAACqC,KAAD,EAAQ,UAASd,GAAT,EAAc;CAC/B,iBAAOY,QAAQ,CAACZ,GAAD,EAAM/B,OAAN,CAAf;CACA,SAFS,CAAV;CAGA,OANiE;;;CASlE6C,MAAAA,KAAK,GAAGA,KAAK,IAAI,CAAjB,CATkE;;CAYlE,UAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B,OAAOA,KAAP,CAZmC;;CAelE7C,MAAAA,OAAO,GAAGA,OAAO,IAAIN,GAAG,CAACE,QAAJ,CAAaQ,MAAb,CAAoBJ,OAAzC,CAfkE;;CAkBlE,UAAI8C,KAAK,GAAG,IAAIC,MAAJ,CAAW,WAAW/C,OAAX,GAAqB,GAAhC,EAAqC,CAAC,GAAD,CAArC,CAAZ;CAAA,UACCgD,WAAW,GAAGC,UAAU,CACvB,CAAC,KAAKJ,KAAN,EACCJ,OADD,CACS,UADT,EACqB,KADrB;CAAA,OAECA,OAFD,CAESK,KAFT,EAEgB,EAFhB;CAAA,OAGCL,OAHD,CAGSzC,OAHT,EAGkB,GAHlB,CADuB;CAAA,OADzB,CAlBkE;;CA2BlE,aAAO,CAACoC,KAAK,CAACY,WAAD,CAAN,GAAsBA,WAAtB,GAAoC,CAA3C;CACA,KA5BD;;;;;;;;;CAqCA,QAAIE,OAAO,GAAGxD,GAAG,CAACwD,OAAJ,GAAc,UAASL,KAAT,EAAgB3C,SAAhB,EAA2B;CACtDA,MAAAA,SAAS,GAAG4B,cAAc,CAAC5B,SAAD,EAAYR,GAAG,CAACE,QAAJ,CAAaQ,MAAb,CAAoBF,SAAhC,CAA1B;CACA,UAAIiD,KAAK,GAAGlB,IAAI,CAACmB,GAAL,CAAS,EAAT,EAAalD,SAAb,CAAZ,CAFsD;;CAKtD,aAAO,CAAC+B,IAAI,CAACC,KAAL,CAAWxC,GAAG,CAACiD,QAAJ,CAAaE,KAAb,IAAsBM,KAAjC,IAA0CA,KAA3C,EAAkDD,OAAlD,CAA0DhD,SAA1D,CAAP;CACA,KAND;;;;;;;;;;CAgBA,QAAImD,YAAY,GAAG3D,GAAG,CAAC2D,YAAJ,GAAmB3D,GAAG,CAACK,MAAJ,GAAa,UAASK,MAAT,EAAiBF,SAAjB,EAA4BD,QAA5B,EAAsCD,OAAtC,EAA+C;;CAEjG,UAAIU,OAAO,CAACN,MAAD,CAAX,EAAqB;CACpB,eAAOI,GAAG,CAACJ,MAAD,EAAS,UAAS2B,GAAT,EAAc;CAChC,iBAAOsB,YAAY,CAACtB,GAAD,EAAM7B,SAAN,EAAiBD,QAAjB,EAA2BD,OAA3B,CAAnB;CACA,SAFS,CAAV;CAGA,OANgG;;;CASjGI,MAAAA,MAAM,GAAGuC,QAAQ,CAACvC,MAAD,CAAjB,CATiG;;CAYjG,UAAIkD,IAAI,GAAGnC,QAAQ,CAChBD,QAAQ,CAAChB,SAAD,CAAR,GAAsBA,SAAtB,GAAkC;CAClCA,QAAAA,SAAS,EAAGA,SADsB;CAElCD,QAAAA,QAAQ,EAAGA,QAFuB;CAGlCD,QAAAA,OAAO,EAAGA;CAHwB,OADlB,EAMjBN,GAAG,CAACE,QAAJ,CAAaQ,MANI,CAAnB;CAAA;CAUCmD,MAAAA,YAAY,GAAGzB,cAAc,CAACwB,IAAI,CAACpD,SAAN,CAV9B;CAAA;CAaCsD,MAAAA,QAAQ,GAAGpD,MAAM,GAAG,CAAT,GAAa,GAAb,GAAmB,EAb/B;CAAA,UAcC4B,IAAI,GAAGyB,QAAQ,CAACP,OAAO,CAACjB,IAAI,CAACE,GAAL,CAAS/B,MAAM,IAAI,CAAnB,CAAD,EAAwBmD,YAAxB,CAAR,EAA+C,EAA/C,CAAR,GAA6D,EAdrE;CAAA,UAeCG,GAAG,GAAG1B,IAAI,CAACH,MAAL,GAAc,CAAd,GAAkBG,IAAI,CAACH,MAAL,GAAc,CAAhC,GAAoC,CAf3C,CAZiG;;CA8BjG,aAAO2B,QAAQ,IAAIE,GAAG,GAAG1B,IAAI,CAAChB,MAAL,CAAY,CAAZ,EAAe0C,GAAf,IAAsBJ,IAAI,CAACrD,QAA9B,GAAyC,EAAhD,CAAR,GAA8D+B,IAAI,CAAChB,MAAL,CAAY0C,GAAZ,EAAiBjB,OAAjB,CAAyB,gBAAzB,EAA2C,OAAOa,IAAI,CAACrD,QAAvD,CAA9D,IAAkIsD,YAAY,GAAGD,IAAI,CAACtD,OAAL,GAAekD,OAAO,CAACjB,IAAI,CAACE,GAAL,CAAS/B,MAAT,CAAD,EAAmBmD,YAAnB,CAAP,CAAwCI,KAAxC,CAA8C,GAA9C,EAAmD,CAAnD,CAAlB,GAA0E,EAAxN,CAAP;CACA,KA/BD;;;;;;;;;;;;;;CA6CA,QAAIC,WAAW,GAAGlE,GAAG,CAACkE,WAAJ,GAAkB,UAASxD,MAAT,EAAiBN,MAAjB,EAAyBI,SAAzB,EAAoCD,QAApC,EAA8CD,OAA9C,EAAuDD,MAAvD,EAA+D;;CAElG,UAAIW,OAAO,CAACN,MAAD,CAAX,EAAqB;CACpB,eAAOI,GAAG,CAACJ,MAAD,EAAS,UAAS2B,GAAT,EAAa;CAC/B,iBAAO6B,WAAW,CAAC7B,GAAD,EAAMjC,MAAN,EAAcI,SAAd,EAAyBD,QAAzB,EAAmCD,OAAnC,EAA4CD,MAA5C,CAAlB;CACA,SAFS,CAAV;CAGA,OANiG;;;CASlGK,MAAAA,MAAM,GAAGuC,QAAQ,CAACvC,MAAD,CAAjB,CATkG;;CAYlG,UAAIkD,IAAI,GAAGnC,QAAQ,CAChBD,QAAQ,CAACpB,MAAD,CAAR,GAAmBA,MAAnB,GAA4B;CAC5BA,QAAAA,MAAM,EAAGA,MADmB;CAE5BI,QAAAA,SAAS,EAAGA,SAFgB;CAG5BD,QAAAA,QAAQ,EAAGA,QAHiB;CAI5BD,QAAAA,OAAO,EAAGA,OAJkB;CAK5BD,QAAAA,MAAM,EAAGA;CALmB,OADZ,EAQjBL,GAAG,CAACE,QAAJ,CAAaC,QARI,CAAnB;CAAA;CAYCgE,MAAAA,OAAO,GAAGxB,mBAAmB,CAACiB,IAAI,CAACvD,MAAN,CAZ9B;CAAA;CAeC+D,MAAAA,SAAS,GAAG1D,MAAM,GAAG,CAAT,GAAayD,OAAO,CAACtB,GAArB,GAA2BnC,MAAM,GAAG,CAAT,GAAayD,OAAO,CAACrB,GAArB,GAA2BqB,OAAO,CAACnB,IAf3E,CAZkG;;CA8BlG,aAAOoB,SAAS,CAACrB,OAAV,CAAkB,IAAlB,EAAwBa,IAAI,CAACxD,MAA7B,EAAqC2C,OAArC,CAA6C,IAA7C,EAAmDY,YAAY,CAACpB,IAAI,CAACE,GAAL,CAAS/B,MAAT,CAAD,EAAmB0B,cAAc,CAACwB,IAAI,CAACpD,SAAN,CAAjC,EAAmDoD,IAAI,CAACrD,QAAxD,EAAkEqD,IAAI,CAACtD,OAAvE,CAA/D,CAAP;CACA,KA/BD;;;;;;;;;;;;;;;CA8CAN,IAAAA,GAAG,CAACqE,YAAJ,GAAmB,UAASC,IAAT,EAAelE,MAAf,EAAuBI,SAAvB,EAAkCD,QAAlC,EAA4CD,OAA5C,EAAqDD,MAArD,EAA6D;CAC/E,UAAI,CAACiE,IAAL,EAAW,OAAO,EAAP,CADoE;;CAI/E,UAAIV,IAAI,GAAGnC,QAAQ,CAChBD,QAAQ,CAACpB,MAAD,CAAR,GAAmBA,MAAnB,GAA4B;CAC5BA,QAAAA,MAAM,EAAGA,MADmB;CAE5BI,QAAAA,SAAS,EAAGA,SAFgB;CAG5BD,QAAAA,QAAQ,EAAGA,QAHiB;CAI5BD,QAAAA,OAAO,EAAGA,OAJkB;CAK5BD,QAAAA,MAAM,EAAGA;CALmB,OADZ,EAQjBL,GAAG,CAACE,QAAJ,CAAaC,QARI,CAAnB;CAAA;CAYCgE,MAAAA,OAAO,GAAGxB,mBAAmB,CAACiB,IAAI,CAACvD,MAAN,CAZ9B;CAAA;CAeCkE,MAAAA,cAAc,GAAGJ,OAAO,CAACtB,GAAR,CAAY2B,OAAZ,CAAoB,IAApB,IAA4BL,OAAO,CAACtB,GAAR,CAAY2B,OAAZ,CAAoB,IAApB,CAA5B,GAAwD,IAAxD,GAA+D,KAfjF;CAAA;CAkBCC,MAAAA,SAAS,GAAG,CAlBb;CAAA;CAqBCC,MAAAA,SAAS,GAAG5D,GAAG,CAACwD,IAAD,EAAO,UAASjC,GAAT,EAAcJ,CAAd,EAAiB;CACtC,YAAIjB,OAAO,CAACqB,GAAD,CAAX,EAAkB;;CAEjB,iBAAOrC,GAAG,CAACqE,YAAJ,CAAiBhC,GAAjB,EAAsBuB,IAAtB,CAAP;CACA,SAHD,MAGO;;CAENvB,UAAAA,GAAG,GAAGY,QAAQ,CAACZ,GAAD,CAAd,CAFM;;CAKN,cAAI+B,SAAS,GAAG/B,GAAG,GAAG,CAAN,GAAU8B,OAAO,CAACtB,GAAlB,GAAwBR,GAAG,GAAG,CAAN,GAAU8B,OAAO,CAACrB,GAAlB,GAAwBqB,OAAO,CAACnB,IAAxE;CAAA;CAGC2B,UAAAA,IAAI,GAAGP,SAAS,CAACrB,OAAV,CAAkB,IAAlB,EAAwBa,IAAI,CAACxD,MAA7B,EAAqC2C,OAArC,CAA6C,IAA7C,EAAmDY,YAAY,CAACpB,IAAI,CAACE,GAAL,CAASJ,GAAT,CAAD,EAAgBD,cAAc,CAACwB,IAAI,CAACpD,SAAN,CAA9B,EAAgDoD,IAAI,CAACrD,QAArD,EAA+DqD,IAAI,CAACtD,OAApE,CAA/D,CAHR;CAKA,cAAIqE,IAAI,CAACxC,MAAL,GAAcsC,SAAlB,EAA6BA,SAAS,GAAGE,IAAI,CAACxC,MAAjB;CAC7B,iBAAOwC,IAAP;CACA;CACD,OAjBc,CArBhB,CAJ+E;;CA6C/E,aAAO7D,GAAG,CAAC4D,SAAD,EAAY,UAASrC,GAAT,EAAcJ,CAAd,EAAiB;;CAEtC,YAAId,QAAQ,CAACkB,GAAD,CAAR,IAAiBA,GAAG,CAACF,MAAJ,GAAasC,SAAlC,EAA6C;;CAE5C,iBAAOF,cAAc,GAAGlC,GAAG,CAACU,OAAJ,CAAYa,IAAI,CAACxD,MAAjB,EAAyBwD,IAAI,CAACxD,MAAL,GAAa,IAAIQ,KAAJ,CAAU6D,SAAS,GAAGpC,GAAG,CAACF,MAAhB,GAAyB,CAAnC,EAAsCyC,IAAtC,CAA2C,GAA3C,CAAtC,CAAH,GAA8F,IAAIhE,KAAJ,CAAU6D,SAAS,GAAGpC,GAAG,CAACF,MAAhB,GAAyB,CAAnC,EAAsCyC,IAAtC,CAA2C,GAA3C,CAAD,GAAoDvC,GAAtK;CACA;;CACD,eAAOA,GAAP;CACA,OAPS,CAAV;CAQA,KArDD;;;;;;CA4DA,IAAoC;CACnC,UAAI,AAAiCwC,MAAM,CAACC,OAA5C,EAAqD;CACpDA,QAAAA,OAAO,GAAGD,cAAA,GAAiB7E,GAA3B;CACA;;CACD8E,MAAAA,kBAAA,GAAqB9E,GAArB;CACA,KALD,AAnX0B;;CAiZ1B,GAjZA,EAiZC+E,cAjZD,CAAD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CCXA;;;;;;;;;;;;;;CAcA,SAASC,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8BC,SAA9B,EAAwC;CACtC,MAAIC,OAAJ,EAAaC,IAAb,EAAmBtD,OAAnB,EAA4BuD,SAA5B,EAAuCC,MAAvC;CACA,MAAI,QAAQL,IAAZ,EAAkBA,IAAI,GAAG,GAAP;;CAElB,WAASM,KAAT,GAAiB;CACf,QAAIC,IAAI,GAAGC,IAAI,CAACC,GAAL,KAAaL,SAAxB;;CAEA,QAAIG,IAAI,GAAGP,IAAP,IAAeO,IAAI,IAAI,CAA3B,EAA8B;CAC5BL,MAAAA,OAAO,GAAGQ,UAAU,CAACJ,KAAD,EAAQN,IAAI,GAAGO,IAAf,CAApB;CACD,KAFD,MAEO;CACLL,MAAAA,OAAO,GAAG,IAAV;;CACA,UAAI,CAACD,SAAL,EAAgB;CACdI,QAAAA,MAAM,GAAGN,IAAI,CAACY,KAAL,CAAW9D,OAAX,EAAoBsD,IAApB,CAAT;CACAtD,QAAAA,OAAO,GAAGsD,IAAI,GAAG,IAAjB;CACD;CACF;CACF;;CAED,MAAIS,SAAS,GAAG,SAAZA,SAAY,GAAU;CACxB/D,IAAAA,OAAO,GAAG,IAAV;CACAsD,IAAAA,IAAI,GAAGU,SAAP;CACAT,IAAAA,SAAS,GAAGI,IAAI,CAACC,GAAL,EAAZ;CACA,QAAIK,OAAO,GAAGb,SAAS,IAAI,CAACC,OAA5B;CACA,QAAI,CAACA,OAAL,EAAcA,OAAO,GAAGQ,UAAU,CAACJ,KAAD,EAAQN,IAAR,CAApB;;CACd,QAAIc,OAAJ,EAAa;CACXT,MAAAA,MAAM,GAAGN,IAAI,CAACY,KAAL,CAAW9D,OAAX,EAAoBsD,IAApB,CAAT;CACAtD,MAAAA,OAAO,GAAGsD,IAAI,GAAG,IAAjB;CACD;;CAED,WAAOE,MAAP;CACD,GAZD;;CAcAO,EAAAA,SAAS,CAACG,KAAV,GAAkB,YAAW;CAC3B,QAAIb,OAAJ,EAAa;CACXc,MAAAA,YAAY,CAACd,OAAD,CAAZ;CACAA,MAAAA,OAAO,GAAG,IAAV;CACD;CACF,GALD;;CAOAU,EAAAA,SAAS,CAACK,KAAV,GAAkB,YAAW;CAC3B,QAAIf,OAAJ,EAAa;CACXG,MAAAA,MAAM,GAAGN,IAAI,CAACY,KAAL,CAAW9D,OAAX,EAAoBsD,IAApB,CAAT;CACAtD,MAAAA,OAAO,GAAGsD,IAAI,GAAG,IAAjB;CAEAa,MAAAA,YAAY,CAACd,OAAD,CAAZ;CACAA,MAAAA,OAAO,GAAG,IAAV;CACD;CACF,GARD;;CAUA,SAAOU,SAAP;CACD;;CAGDd,QAAQ,CAACA,QAAT,GAAoBA,QAApB;CAEA,cAAc,GAAGA,QAAjB;;CCnEA,cAAc,GAAGoB,QAAjB;CACA,cAAuB,GAAGA,QAA1B;CAEA,IAAIC,QAAQ,GAAG,kUAAf;CAEA,IAAIC,QAAQ,GAAG,6VAAf;;CAEA,SAASF,QAAT,CAAmBxC,IAAnB,EAAyB;CACvB,MAAI,CAACA,IAAL,EAAWA,IAAI,GAAG,EAAP;CACX,MAAI2C,EAAE,GAAG3C,IAAI,CAAC2C,EAAd;CACA,MAAI,CAACA,EAAD,IAAO,OAAOC,SAAP,KAAqB,WAAhC,EAA6CD,EAAE,GAAGC,SAAS,CAACC,SAAf;;CAC7C,MAAIF,EAAE,IAAIA,EAAE,CAACG,OAAT,IAAoB,OAAOH,EAAE,CAACG,OAAH,CAAW,YAAX,CAAP,KAAoC,QAA5D,EAAsE;CACpEH,IAAAA,EAAE,GAAGA,EAAE,CAACG,OAAH,CAAW,YAAX,CAAL;CACD;;CACD,MAAI,OAAOH,EAAP,KAAc,QAAlB,EAA4B,OAAO,KAAP;CAE5B,SAAO3C,IAAI,CAAC+C,MAAL,GACHL,QAAQ,CAACM,IAAT,CAAcL,EAAd,CADG,GAEHF,QAAQ,CAACO,IAAT,CAAcL,EAAd,CAFJ;CAGD;;;CCpBD,mBAAc,GAAG,wBAAA,CAAAM,GAAG;CAAA,SAAIC,kBAAkB,CAACD,GAAD,CAAlB,CAAwB9D,OAAxB,CAAgC,UAAhC,EAA4C,UAAAgE,CAAC;CAAA,sBAAQA,CAAC,CAAC1F,UAAF,CAAa,CAAb,EAAgBJ,QAAhB,CAAyB,EAAzB,EAA6B+F,WAA7B,EAAR;CAAA,GAA7C,CAAJ;CAAA,CAApB;;CCAA,IAAIC,KAAK,GAAG,cAAZ;CACA,IAAIC,aAAa,GAAG,IAAI7D,MAAJ,CAAW4D,KAAX,EAAkB,IAAlB,CAApB;CACA,IAAIE,YAAY,GAAG,IAAI9D,MAAJ,CAAW,MAAM4D,KAAN,GAAc,IAAzB,EAA+B,IAA/B,CAAnB;;CAEA,SAASG,gBAAT,CAA0BC,UAA1B,EAAsCpD,KAAtC,EAA6C;CAC5C,MAAI;;CAEH,WAAOqD,kBAAkB,CAACD,UAAU,CAACzC,IAAX,CAAgB,EAAhB,CAAD,CAAzB;CACA,GAHD,CAGE,OAAO2C,GAAP,EAAY;CAEb;;CAED,MAAIF,UAAU,CAAClF,MAAX,KAAsB,CAA1B,EAA6B;CAC5B,WAAOkF,UAAP;CACA;;CAEDpD,EAAAA,KAAK,GAAGA,KAAK,IAAI,CAAjB,CAZ4C;;CAe5C,MAAIuD,IAAI,GAAGH,UAAU,CAACI,KAAX,CAAiB,CAAjB,EAAoBxD,KAApB,CAAX;CACA,MAAIyD,KAAK,GAAGL,UAAU,CAACI,KAAX,CAAiBxD,KAAjB,CAAZ;CAEA,SAAOrD,KAAK,CAACC,SAAN,CAAgB8G,MAAhB,CAAuBpG,IAAvB,CAA4B,EAA5B,EAAgC6F,gBAAgB,CAACI,IAAD,CAAhD,EAAwDJ,gBAAgB,CAACM,KAAD,CAAxE,CAAP;CACA;;CAED,SAASE,MAAT,CAAgBC,KAAhB,EAAuB;CACtB,MAAI;CACH,WAAOP,kBAAkB,CAACO,KAAD,CAAzB;CACA,GAFD,CAEE,OAAON,GAAP,EAAY;CACb,QAAIO,MAAM,GAAGD,KAAK,CAACjF,KAAN,CAAYsE,aAAZ,CAAb;;CAEA,SAAK,IAAIjF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6F,MAAM,CAAC3F,MAA3B,EAAmCF,CAAC,EAApC,EAAwC;CACvC4F,MAAAA,KAAK,GAAGT,gBAAgB,CAACU,MAAD,EAAS7F,CAAT,CAAhB,CAA4B2C,IAA5B,CAAiC,EAAjC,CAAR;CAEAkD,MAAAA,MAAM,GAAGD,KAAK,CAACjF,KAAN,CAAYsE,aAAZ,CAAT;CACA;;CAED,WAAOW,KAAP;CACA;CACD;;CAED,SAASE,wBAAT,CAAkCF,KAAlC,EAAyC;;CAExC,MAAIG,UAAU,GAAG;CAChB,cAAU,cADM;CAEhB,cAAU;CAFM,GAAjB;CAKA,MAAIpF,KAAK,GAAGuE,YAAY,CAACc,IAAb,CAAkBJ,KAAlB,CAAZ;;CACA,SAAOjF,KAAP,EAAc;CACb,QAAI;;CAEHoF,MAAAA,UAAU,CAACpF,KAAK,CAAC,CAAD,CAAN,CAAV,GAAuB0E,kBAAkB,CAAC1E,KAAK,CAAC,CAAD,CAAN,CAAzC;CACA,KAHD,CAGE,OAAO2E,GAAP,EAAY;CACb,UAAIhC,MAAM,GAAGqC,MAAM,CAAChF,KAAK,CAAC,CAAD,CAAN,CAAnB;;CAEA,UAAI2C,MAAM,KAAK3C,KAAK,CAAC,CAAD,CAApB,EAAyB;CACxBoF,QAAAA,UAAU,CAACpF,KAAK,CAAC,CAAD,CAAN,CAAV,GAAuB2C,MAAvB;CACA;CACD;;CAED3C,IAAAA,KAAK,GAAGuE,YAAY,CAACc,IAAb,CAAkBJ,KAAlB,CAAR;CACA,GArBuC;;;CAwBxCG,EAAAA,UAAU,CAAC,KAAD,CAAV,GAAoB,QAApB;CAEA,MAAIE,OAAO,GAAGhH,MAAM,CAACiH,IAAP,CAAYH,UAAZ,CAAd;;CAEA,OAAK,IAAI/F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiG,OAAO,CAAC/F,MAA5B,EAAoCF,CAAC,EAArC,EAAyC;;CAExC,QAAIL,GAAG,GAAGsG,OAAO,CAACjG,CAAD,CAAjB;CACA4F,IAAAA,KAAK,GAAGA,KAAK,CAAC9E,OAAN,CAAc,IAAIM,MAAJ,CAAWzB,GAAX,EAAgB,GAAhB,CAAd,EAAoCoG,UAAU,CAACpG,GAAD,CAA9C,CAAR;CACA;;CAED,SAAOiG,KAAP;CACA;;CAED,sBAAc,GAAG,2BAAA,CAAUO,UAAV,EAAsB;CACtC,MAAI,OAAOA,UAAP,KAAsB,QAA1B,EAAoC;CACnC,UAAM,IAAIC,SAAJ,CAAc,gEAA+DD,UAA/D,IAA4E,GAA1F,CAAN;CACA;;CAED,MAAI;CACHA,IAAAA,UAAU,GAAGA,UAAU,CAACrF,OAAX,CAAmB,KAAnB,EAA0B,GAA1B,CAAb,CADG;;CAIH,WAAOuE,kBAAkB,CAACc,UAAD,CAAzB;CACA,GALD,CAKE,OAAOb,GAAP,EAAY;;CAEb,WAAOQ,wBAAwB,CAACK,UAAD,CAA/B;CACA;CACD,CAdD;;CC3EA,SAASE,qBAAT,CAA+BC,OAA/B,EAAwC;CACvC,UAAQA,OAAO,CAACC,WAAhB;CACC,SAAK,OAAL;CACC,aAAO,UAAC5G,GAAD,EAAMuB,KAAN,EAAasF,KAAb,EAAuB;CAC7B,eAAOtF,KAAK,KAAK,IAAV,GAAiB,CACvBuF,MAAM,CAAC9G,GAAD,EAAM2G,OAAN,CADiB,EAEvB,GAFuB,EAGvBE,KAHuB,EAIvB,GAJuB,EAKtB7D,IALsB,CAKjB,EALiB,CAAjB,GAKM,CACZ8D,MAAM,CAAC9G,GAAD,EAAM2G,OAAN,CADM,EAEZ,GAFY,EAGZG,MAAM,CAACD,KAAD,EAAQF,OAAR,CAHM,EAIZ,IAJY,EAKZG,MAAM,CAACvF,KAAD,EAAQoF,OAAR,CALM,EAMX3D,IANW,CAMN,EANM,CALb;CAYA,OAbD;;CAcD,SAAK,SAAL;CACC,aAAO,UAAChD,GAAD,EAAMuB,KAAN,EAAgB;CACtB,eAAOA,KAAK,KAAK,IAAV,GAAiB,CAACuF,MAAM,CAAC9G,GAAD,EAAM2G,OAAN,CAAP,EAAuB,IAAvB,EAA6B3D,IAA7B,CAAkC,EAAlC,CAAjB,GAAyD,CAC/D8D,MAAM,CAAC9G,GAAD,EAAM2G,OAAN,CADyD,EAE/D,KAF+D,EAG/DG,MAAM,CAACvF,KAAD,EAAQoF,OAAR,CAHyD,EAI9D3D,IAJ8D,CAIzD,EAJyD,CAAhE;CAKA,OAND;;CAOD;CACC,aAAO,UAAChD,GAAD,EAAMuB,KAAN,EAAgB;CACtB,eAAOA,KAAK,KAAK,IAAV,GAAiBuF,MAAM,CAAC9G,GAAD,EAAM2G,OAAN,CAAvB,GAAwC,CAC9CG,MAAM,CAAC9G,GAAD,EAAM2G,OAAN,CADwC,EAE9C,GAF8C,EAG9CG,MAAM,CAACvF,KAAD,EAAQoF,OAAR,CAHwC,EAI7C3D,IAJ6C,CAIxC,EAJwC,CAA/C;CAKA,OAND;CAzBF;CAiCA;;CAED,SAAS+D,oBAAT,CAA8BJ,OAA9B,EAAuC;CACtC,MAAIhD,MAAJ;;CAEA,UAAQgD,OAAO,CAACC,WAAhB;CACC,SAAK,OAAL;CACC,aAAO,UAAC5G,GAAD,EAAMuB,KAAN,EAAayF,WAAb,EAA6B;CACnCrD,QAAAA,MAAM,GAAG,aAAa0C,IAAb,CAAkBrG,GAAlB,CAAT;CAEAA,QAAAA,GAAG,GAAGA,GAAG,CAACmB,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,CAAN;;CAEA,YAAI,CAACwC,MAAL,EAAa;CACZqD,UAAAA,WAAW,CAAChH,GAAD,CAAX,GAAmBuB,KAAnB;CACA;CACA;;CAED,YAAIyF,WAAW,CAAChH,GAAD,CAAX,KAAqB7B,SAAzB,EAAoC;CACnC6I,UAAAA,WAAW,CAAChH,GAAD,CAAX,GAAmB,EAAnB;CACA;;CAEDgH,QAAAA,WAAW,CAAChH,GAAD,CAAX,CAAiB2D,MAAM,CAAC,CAAD,CAAvB,IAA8BpC,KAA9B;CACA,OAfD;;CAgBD,SAAK,SAAL;CACC,aAAO,UAACvB,GAAD,EAAMuB,KAAN,EAAayF,WAAb,EAA6B;CACnCrD,QAAAA,MAAM,GAAG,UAAU0C,IAAV,CAAerG,GAAf,CAAT;CACAA,QAAAA,GAAG,GAAGA,GAAG,CAACmB,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAN;;CAEA,YAAI,CAACwC,MAAL,EAAa;CACZqD,UAAAA,WAAW,CAAChH,GAAD,CAAX,GAAmBuB,KAAnB;CACA;CACA;;CAED,YAAIyF,WAAW,CAAChH,GAAD,CAAX,KAAqB7B,SAAzB,EAAoC;CACnC6I,UAAAA,WAAW,CAAChH,GAAD,CAAX,GAAmB,CAACuB,KAAD,CAAnB;CACA;CACA;;CAEDyF,QAAAA,WAAW,CAAChH,GAAD,CAAX,GAAmB,GAAG+F,MAAH,CAAUiB,WAAW,CAAChH,GAAD,CAArB,EAA4BuB,KAA5B,CAAnB;CACA,OAfD;;CAgBD;CACC,aAAO,UAACvB,GAAD,EAAMuB,KAAN,EAAayF,WAAb,EAA6B;CACnC,YAAIA,WAAW,CAAChH,GAAD,CAAX,KAAqB7B,SAAzB,EAAoC;CACnC6I,UAAAA,WAAW,CAAChH,GAAD,CAAX,GAAmBuB,KAAnB;CACA;CACA;;CAEDyF,QAAAA,WAAW,CAAChH,GAAD,CAAX,GAAmB,GAAG+F,MAAH,CAAUiB,WAAW,CAAChH,GAAD,CAArB,EAA4BuB,KAA5B,CAAnB;CACA,OAPD;CApCF;CA6CA;;CAED,SAASuF,MAAT,CAAgBvF,KAAhB,EAAuBoF,OAAvB,EAAgC;CAC/B,MAAIA,OAAO,CAACG,MAAZ,EAAoB;CACnB,WAAOH,OAAO,CAACM,MAAR,GAAiBC,eAAe,CAAC3F,KAAD,CAAhC,GAA0C2D,kBAAkB,CAAC3D,KAAD,CAAnE;CACA;;CAED,SAAOA,KAAP;CACA;;CAED,SAASyE,QAAT,CAAgBzE,KAAhB,EAAuBoF,OAAvB,EAAgC;CAC/B,MAAIA,OAAO,CAACX,MAAZ,EAAoB;CACnB,WAAOmB,kBAAe,CAAC5F,KAAD,CAAtB;CACA;;CAED,SAAOA,KAAP;CACA;;CAED,SAAS6F,UAAT,CAAoBnB,KAApB,EAA2B;CAC1B,MAAIjH,KAAK,CAACI,OAAN,CAAc6G,KAAd,CAAJ,EAA0B;CACzB,WAAOA,KAAK,CAACoB,IAAN,EAAP;CACA;;CAED,MAAI,QAAOpB,KAAP,MAAiB,QAArB,EAA+B;CAC9B,WAAOmB,UAAU,CAAC9H,MAAM,CAACiH,IAAP,CAAYN,KAAZ,CAAD,CAAV,CACLoB,IADK,CACA,UAACC,CAAD,EAAIC,CAAJ;CAAA,aAAUC,MAAM,CAACF,CAAD,CAAN,GAAYE,MAAM,CAACD,CAAD,CAA5B;CAAA,KADA,EAELrI,GAFK,CAED,UAAAc,GAAG;CAAA,aAAIiG,KAAK,CAACjG,GAAD,CAAT;CAAA,KAFF,CAAP;CAGA;;CAED,SAAOiG,KAAP;CACA;;CAED,SAASwB,OAAT,CAAiBxB,KAAjB,EAAwB;CACvB,MAAMyB,UAAU,GAAGzB,KAAK,CAACrD,OAAN,CAAc,GAAd,CAAnB;;CACA,MAAI8E,UAAU,KAAK,CAAC,CAApB,EAAuB;CACtB,WAAO,EAAP;CACA;;CAED,SAAOzB,KAAK,CAACJ,KAAN,CAAY6B,UAAU,GAAG,CAAzB,CAAP;CACA;;CAED,SAASpG,KAAT,CAAe2E,KAAf,EAAsBU,OAAtB,EAA+B;CAC9BA,EAAAA,OAAO,GAAGrH,MAAM,CAACqI,MAAP,CAAc;CAAC3B,IAAAA,MAAM,EAAE,IAAT;CAAeY,IAAAA,WAAW,EAAE;CAA5B,GAAd,EAAmDD,OAAnD,CAAV;CAEA,MAAMiB,SAAS,GAAGb,oBAAoB,CAACJ,OAAD,CAAtC,CAH8B;;CAM9B,MAAMkB,GAAG,GAAGvI,MAAM,CAACwI,MAAP,CAAc,IAAd,CAAZ;;CAEA,MAAI,OAAO7B,KAAP,KAAiB,QAArB,EAA+B;CAC9B,WAAO4B,GAAP;CACA;;CAED5B,EAAAA,KAAK,GAAGA,KAAK,CAAC8B,IAAN,GAAa5G,OAAb,CAAqB,QAArB,EAA+B,EAA/B,CAAR;;CAEA,MAAI,CAAC8E,KAAL,EAAY;CACX,WAAO4B,GAAP;CACA;;CAhB6B;CAAA;CAAA;;CAAA;CAkB9B,yBAAoB5B,KAAK,CAAC5D,KAAN,CAAY,GAAZ,CAApB,8HAAsC;CAAA,UAA3B2F,KAA2B;;CAAA,iCAClBA,KAAK,CAAC7G,OAAN,CAAc,KAAd,EAAqB,GAArB,EAA0BkB,KAA1B,CAAgC,GAAhC,CADkB;CAAA;CAAA,UAChCrC,GADgC;CAAA,UAC3BuB,KAD2B;;;;CAKrCA,MAAAA,KAAK,GAAGA,KAAK,KAAKpD,SAAV,GAAsB,IAAtB,GAA6B6H,QAAM,CAACzE,KAAD,EAAQoF,OAAR,CAA3C;CAEAiB,MAAAA,SAAS,CAAC5B,QAAM,CAAChG,GAAD,EAAM2G,OAAN,CAAP,EAAuBpF,KAAvB,EAA8BsG,GAA9B,CAAT;CACA;CA1B6B;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;;CA4B9B,SAAOvI,MAAM,CAACiH,IAAP,CAAYsB,GAAZ,EAAiBR,IAAjB,GAAwBY,MAAxB,CAA+B,UAACtE,MAAD,EAAS3D,GAAT,EAAiB;CACtD,QAAMuB,KAAK,GAAGsG,GAAG,CAAC7H,GAAD,CAAjB;;CACA,QAAIkI,OAAO,CAAC3G,KAAD,CAAP,IAAkB,QAAOA,KAAP,MAAiB,QAAnC,IAA+C,CAACvC,KAAK,CAACI,OAAN,CAAcmC,KAAd,CAApD,EAA0E;;CAEzEoC,MAAAA,MAAM,CAAC3D,GAAD,CAAN,GAAcoH,UAAU,CAAC7F,KAAD,CAAxB;CACA,KAHD,MAGO;CACNoC,MAAAA,MAAM,CAAC3D,GAAD,CAAN,GAAcuB,KAAd;CACA;;CAED,WAAOoC,MAAP;CACA,GAVM,EAUJrE,MAAM,CAACwI,MAAP,CAAc,IAAd,CAVI,CAAP;CAWA;;CAED,aAAe,GAAGL,OAAlB;CACA,WAAa,GAAGnG,KAAhB;;CAEA,aAAiB,GAAG,kBAAA,CAAC9B,GAAD,EAAMmH,OAAN,EAAkB;CACrC,MAAI,CAACnH,GAAL,EAAU;CACT,WAAO,EAAP;CACA;;CAEDmH,EAAAA,OAAO,GAAGrH,MAAM,CAACqI,MAAP,CAAc;CACvBb,IAAAA,MAAM,EAAE,IADe;CAEvBG,IAAAA,MAAM,EAAE,IAFe;CAGvBL,IAAAA,WAAW,EAAE;CAHU,GAAd,EAIPD,OAJO,CAAV;CAMA,MAAMiB,SAAS,GAAGlB,qBAAqB,CAACC,OAAD,CAAvC;CACA,MAAMJ,IAAI,GAAGjH,MAAM,CAACiH,IAAP,CAAY/G,GAAZ,CAAb;;CAEA,MAAImH,OAAO,CAACU,IAAR,KAAiB,KAArB,EAA4B;CAC3Bd,IAAAA,IAAI,CAACc,IAAL,CAAUV,OAAO,CAACU,IAAlB;CACA;;CAED,SAAOd,IAAI,CAACrH,GAAL,CAAS,UAAAc,GAAG,EAAI;CACtB,QAAMuB,KAAK,GAAG/B,GAAG,CAACQ,GAAD,CAAjB;;CAEA,QAAIuB,KAAK,KAAKpD,SAAd,EAAyB;CACxB,aAAO,EAAP;CACA;;CAED,QAAIoD,KAAK,KAAK,IAAd,EAAoB;CACnB,aAAOuF,MAAM,CAAC9G,GAAD,EAAM2G,OAAN,CAAb;CACA;;CAED,QAAI3H,KAAK,CAACI,OAAN,CAAcmC,KAAd,CAAJ,EAA0B;CACzB,UAAMoC,MAAM,GAAG,EAAf;CADyB;CAAA;CAAA;;CAAA;CAGzB,8BAAqBpC,KAAK,CAACsE,KAAN,EAArB,mIAAoC;CAAA,cAAzBsC,MAAyB;;CACnC,cAAIA,MAAM,KAAKhK,SAAf,EAA0B;CACzB;CACA;;CAEDwF,UAAAA,MAAM,CAACyE,IAAP,CAAYR,SAAS,CAAC5H,GAAD,EAAMmI,MAAN,EAAcxE,MAAM,CAACpD,MAArB,CAArB;CACA;CATwB;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;CAAA;;CAWzB,aAAOoD,MAAM,CAACX,IAAP,CAAY,GAAZ,CAAP;CACA;;CAED,WAAO8D,MAAM,CAAC9G,GAAD,EAAM2G,OAAN,CAAN,GAAuB,GAAvB,GAA6BG,MAAM,CAACvF,KAAD,EAAQoF,OAAR,CAA1C;CACA,GA1BM,EA0BJ0B,MA1BI,CA0BG,UAAAlD,CAAC;CAAA,WAAIA,CAAC,CAAC5E,MAAF,GAAW,CAAf;CAAA,GA1BJ,EA0BsByC,IA1BtB,CA0B2B,GA1B3B,CAAP;CA2BA,CA7CD;;CA+CA,YAAgB,GAAG,iBAAA,CAACiD,KAAD,EAAQU,OAAR,EAAoB;CACtC,MAAM2B,SAAS,GAAGrC,KAAK,CAACrD,OAAN,CAAc,GAAd,CAAlB;;CACA,MAAI0F,SAAS,KAAK,CAAC,CAAnB,EAAsB;CACrBrC,IAAAA,KAAK,GAAGA,KAAK,CAACJ,KAAN,CAAY,CAAZ,EAAeyC,SAAf,CAAR;CACA;;CAED,SAAO;CACNC,IAAAA,GAAG,EAAEtC,KAAK,CAAC5D,KAAN,CAAY,GAAZ,EAAiB,CAAjB,KAAuB,EADtB;CAENmG,IAAAA,KAAK,EAAElH,KAAK,CAACmG,OAAO,CAACxB,KAAD,CAAR,EAAiBU,OAAjB;CAFN,GAAP;CAIA,CAVD;;;;;;;;;;;;;;;;;;CCxNA,IAAM8B,KAAK,GAAI,UAASC,IAAT,EAAY;CACzB,WAASC,qBAAT,GAAiC;CAC/B,QAAIC,kBAAkB,GAAG,EAAzB;CAEA,QAAMC,mBAAmB,GAAG;CAC1B,0BAAqB,qBADK;CAE1B,uBAAqB,eAFK;CAG1B,qBAAqB,gBAHK;CAI1B,oBAAqB;CAJK,KAA5B;;CAOA,SAAK,IAAIC,IAAT,IAAiBD,mBAAjB,EAAsC;CACpC,UAAI,GAAG5I,cAAH,CAAkBN,IAAlB,CAAuBkJ,mBAAvB,EAA4CC,IAA5C,CAAJ,EAAuD;CACrD,YAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAb;;CACA,YAAI,OAAOF,MAAM,CAACG,KAAP,CAAaJ,IAAb,CAAP,KAA8B,WAAlC,EAA+C;CAC7CF,UAAAA,kBAAkB,GAAGC,mBAAmB,CAACC,IAAD,CAAxC;CACD;CACF;CACF;;CAED,WAAOF,kBAAP;CACD;;CAED,SAAO;CACLpE,IAAAA,QAAQ,EAAEA,UADL;CAELpB,IAAAA,QAAQ,EAAEA,UAFL;CAIL+F,IAAAA,WAAW,EAAEA,aAJR;CAMLC,IAAAA,cAAc,EAAET,qBAAqB,EANhC;CAQLU,IAAAA,eARK,2BAQWC,EARX,EAQeC,QARf,EAQyB;CAAA;;CAC5B,UAAIC,MAAM,GAAG,KAAb;CAEAd,MAAAA,IAAC,CAACY,EAAD,CAAD,CAAMG,GAAN,CAAU,KAAKL,cAAf,EAA+B,YAAM;CACnCG,QAAAA,QAAQ;CACRC,QAAAA,MAAM,GAAG,IAAT;CACD,OAHD;CAKAxF,MAAAA,UAAU,CAAC,YAAM;CACf,YAAI,CAACwF,MAAL,EAAad,IAAC,CAACY,EAAD,CAAD,CAAMI,OAAN,CAAc,KAAI,CAACN,cAAnB;CACd,OAFS,EAEP,KAAKO,gCAAL,CAAsCL,EAAtC,CAFO,CAAV;CAGD,KAnBI;CAqBLK,IAAAA,gCArBK,4CAqB4BC,OArB5B,EAqBqC;CACxC,UAAI,CAACA,OAAL,EAAc;CACZ,eAAO,CAAP;CACD,OAHuC;;;CAMxC,UAAIC,kBAAkB,GAAGnB,IAAC,CAACkB,OAAD,CAAD,CAAWE,GAAX,CAAe,qBAAf,CAAzB;CACA,UAAMC,uBAAuB,GAAGpI,UAAU,CAACkI,kBAAD,CAA1C,CAPwC;;CAUxC,UAAI,CAACE,uBAAL,EAA8B;CAC5B,eAAO,CAAP;CACD,OAZuC;;;CAexCF,MAAAA,kBAAkB,GAAGA,kBAAkB,CAACxH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAArB;CAEA,aAAOV,UAAU,CAACkI,kBAAD,CAAV,GAAiC,IAAxC;CACD,KAvCI;CAyCLG,IAAAA,oBAzCK,gCAyCgBJ,OAzChB,EAyCyB;CAC5B,UAAIK,QAAQ,GAAGL,OAAO,CAACM,YAAR,CAAqB,aAArB,CAAf;;CAEA,UAAI,CAACD,QAAD,IAAaA,QAAQ,KAAK,GAA9B,EAAmC;CACjCA,QAAAA,QAAQ,GAAGL,OAAO,CAACM,YAAR,CAAqB,MAArB,KAAgC,EAA3C;CACD;;CAED,UAAI;CACF,eAAOlB,QAAQ,CAACmB,aAAT,CAAuBF,QAAvB,IAAmCA,QAAnC,GAA8C,IAArD;CACD,OAFD,CAEE,OAAOtE,GAAP,EAAY;CACZ,eAAO,IAAP;CACD;CACF;CArDI,GAAP;CAuDD,CA9Ea,CA8EXyE,MA9EW,CAAd;;CCFA,IAAMC,QAAQ,GAAI,UAAC3B,IAAD,EAAI4B,MAAJ,EAAe;AAC/B;CAD+B,MAGzBD,QAHyB;CAAA;CAAA;CAI7B,sBAAYT,OAAZ,EAAqBjD,OAArB,EAA8B;CAAA;;CAC5B,WAAKiD,OAAL,GAAeA,OAAf;CACA,WAAKjD,OAAL,GAAerH,MAAM,CAACqI,MAAP,CAAc,EAAd,EAAkB0C,QAAQ,CAACxK,QAA3B,EAAqC8G,OAArC,CAAf;CACA,WAAK4D,IAAL,GAAe,KAAKC,eAAL,EAAf;CACA,WAAKC,MAAL,GAAe,IAAf;;CAEA,UAAI,CAAE,KAAKF,IAAP,IAAe,OAAO,KAAKA,IAAZ,KAAqB,WAAxC,EAAqD;CACnD,cAAM,IAAIG,KAAJ,CAAU,2CAAV,CAAN;CACD;;CAED,UAAI,OAAOJ,MAAP,KAAkB,WAAlB,IAAiC,CAAE,KAAKG,MAA5C,EAAoD;CAClD,YAAIE,gBAAgB,GAAG,KAAKf,OAA5B;CACA,aAAKa,MAAL,GAAc,IAAIH,MAAJ,CAAWK,gBAAX,EAA6B,KAAKJ,IAAlC,EAAwC,KAAKK,gBAAL,EAAxC,CAAd;CACD;;CAED,WAAKC,kBAAL;;CACAR,MAAAA,QAAQ,CAACS,QAAT,CAAkB1C,IAAlB,CAAuB,IAAvB;CACD;;CArB4B;CAAA;CAAA,iCAuBlB;CACT,eAAO,KAAKmC,IAAL,CAAUQ,SAAV,CAAoBC,QAApB,CAA6B,MAA7B,CAAP;CACD;CAzB4B;CAAA;CAAA,mCA2BhB;CACX,eAAQ,KAAKpB,OAAL,CAAaqB,QAAb,IAAyB,KAAKrB,OAAL,CAAamB,SAAb,CAAuBC,QAAvB,CAAgC,UAAhC,CAAjC;CACD;CA7B4B;CAAA;CAAA,+BA+BpB;CACP,YAAI,KAAKE,QAAL,EAAJ,EAAqB;CACnB,eAAKC,KAAL;CACD,SAFD,MAEO;CACL,eAAKC,IAAL;CACD;CACF;CArC4B;CAAA;CAAA,6BAuCtB;CAAA;;CACL,YAAI,KAAKC,UAAL,MAAqB,KAAKH,QAAL,EAAzB,EAA0C;CACxC;CACD;;CAED,aAAKtB,OAAL,CAAa0B,KAAb;CACA,aAAK1B,OAAL,CAAa2B,YAAb,CAA0B,eAA1B,EAA2C,IAA3C,EANK;CASL;CACA;CACA;;CACA,YAAI,kBAAkBvC,QAAQ,CAACwC,eAA/B,EAAgD;CAC9C9C,UAAAA,IAAC,CAACM,QAAQ,CAACyC,IAAV,CAAD,CAAiBC,QAAjB,GAA4BC,EAA5B,CAA+B,WAA/B,EAA4C,IAA5C,EAAkDjD,IAAC,CAACkD,IAApD;CACD;;CAED,aAAKrB,IAAL,CAAUQ,SAAV,CAAoBc,GAApB,CAAwB,MAAxB;CACA,aAAKtB,IAAL,CAAUgB,YAAV,CAAuB,aAAvB,EAAsC,IAAtC;;CAEA,YAAI,KAAKd,MAAT,EAAiB;CACf,eAAKA,MAAL,CAAYqB,MAAZ;CACD;;CAED9H,QAAAA,UAAU,CAAC,YAAM;CAAE,UAAA,KAAI,CAACuG,IAAL,CAAUQ,SAAV,CAAoBc,GAApB,CAAwB,kBAAxB;CAA8C,SAAvD,CAAV;CACD;CA/D4B;CAAA;CAAA,8BAiErB;CAAA;;CACN,YAAI,KAAKR,UAAL,MAAqB,CAAC,KAAKH,QAAL,EAA1B,EAA2C;CACzC;CACD,SAHK;CAMN;;;CACA,YAAI,kBAAkBlC,QAAQ,CAACwC,eAA/B,EAAgD;CAC9C9C,UAAAA,IAAC,CAACM,QAAQ,CAACyC,IAAV,CAAD,CAAiBC,QAAjB,GAA4BK,GAA5B,CAAgC,WAAhC,EAA6C,IAA7C,EAAmDrD,IAAC,CAACkD,IAArD;CACD;;CAED,aAAKhC,OAAL,CAAa2B,YAAb,CAA0B,eAA1B,EAA2C,KAA3C;CACA,aAAKhB,IAAL,CAAUyB,eAAV,CAA0B,aAA1B;CACA,aAAKzB,IAAL,CAAUQ,SAAV,CAAoBkB,MAApB,CAA2B,kBAA3B;CAEAC,QAAAA,KAAI,CAAC7C,eAAL,CAAqB,KAAKkB,IAA1B,EAAgC,YAAM;CACpC,UAAA,MAAI,CAACA,IAAL,CAAUQ,SAAV,CAAoBkB,MAApB,CAA2B,MAA3B;CACD,SAFD;CAGD;CAnF4B;CAAA;CAAA,2CAqFR;CAAA;;CACnB,YAAI,CAAC,KAAKtF,OAAL,CAAawF,MAAlB,EAA0B;CACxB;CACD;;CAED,YAAI,KAAKxF,OAAL,CAAawF,MAAb,KAAwB,QAA5B,EAAsC;CACpCnI,UAAAA,UAAU,CAAC,KAAKoH,IAAL,CAAUgB,IAAV,CAAe,IAAf,CAAD,CAAV;CACA;CACD;;CAED,YAAMC,MAAM,GAAG,KAAK1F,OAAL,CAAawF,MAAb,CAAoB9J,KAApB,CAA0B,GAA1B,CAAf;;CAEA,YAAIgK,MAAM,CAACzJ,OAAP,CAAe,OAAf,KAA2B,CAA/B,EAAkC;CAChC8F,UAAAA,IAAC,CAAC,KAAKkB,OAAN,CAAD,CAAgB+B,EAAhB,CAAmB,OAAnB,EAA4B,UAACW,CAAD,EAAO;CACjCA,YAAAA,CAAC,CAACC,cAAF,GADiC;;CAIjC,YAAA,MAAI,CAACC,MAAL;CACD,WALD;CAOA9D,UAAAA,IAAC,CAACM,QAAD,CAAD,CAAY2C,EAAZ,CAAe,OAAf,EAAwB,UAACW,CAAD,EAAO;CAC7B,gBAAI,CAAE,MAAI,CAACpB,QAAL,EAAN,EAAuB;CACrB;CACD,aAH4B;;;CAM7B,gBAAIoB,CAAC,CAACG,MAAF,KAAa,MAAI,CAAClC,IAAlB,IAA0B,MAAI,CAACA,IAAL,CAAUS,QAAV,CAAmBsB,CAAC,CAACG,MAArB,CAA9B,EAA4D;CAC1D;CACD,aAR4B;;;CAW7B,gBAAIH,CAAC,CAACG,MAAF,KAAa,MAAI,CAAC7C,OAAlB,IAA6B,MAAI,CAACA,OAAL,CAAaoB,QAAb,CAAsBsB,CAAC,CAACG,MAAxB,CAAjC,EAAkE;CAChE;CACD;;CAED,YAAA,MAAI,CAACtB,KAAL,CAAWmB,CAAX;CACD,WAhBD;CAiBD;;CAED,YAAID,MAAM,CAACzJ,OAAP,CAAe,OAAf,KAA2B,CAA/B,EAAkC;;CAIlC,YAAIyJ,MAAM,CAACzJ,OAAP,CAAe,OAAf,KAA2B,CAA/B,EAAkC;CAGnC;CAnI4B;CAAA;CAAA,wCAqIX;CAChB,YAAI,CAAC,KAAK2H,IAAV,EAAgB;CACd,cAAMmC,MAAM,GAAG,KAAK9C,OAAL,CAAa+C,UAA5B;CACA,cAAMF,MAAM,GAAGP,KAAI,CAAClC,oBAAL,CAA0B,KAAKJ,OAA/B,CAAf;;CAEA,cAAI6C,MAAJ,EAAY;CACV,iBAAKlC,IAAL,GAAYvB,QAAQ,CAACmB,aAAT,CAAuBsC,MAAvB,CAAZ;CACD,WAFD,MAEO;CACL,iBAAKlC,IAAL,GAAYmC,MAAM,GAAGA,MAAM,CAACvC,aAAP,CAAqB,KAAKxD,OAAL,CAAa4D,IAAlC,CAAH,GAA6C,IAA/D;CACD;CACF;;CAED,eAAO,KAAKA,IAAZ;CACD;CAlJ4B;CAAA;CAAA,yCAoJV;CAAA;;CACjB,YAAMqC,MAAM,GAAG,EAAf;;CAEA,YAAI,OAAO,KAAKjG,OAAL,CAAaiG,MAApB,KAA+B,UAAnC,EAA+C;CAC7CA,UAAAA,MAAM,CAACC,EAAP,GAAY,UAACC,IAAD,EAAU;CACpBA,YAAAA,IAAI,CAACC,OAAL,GAAezN,MAAM,CAACqI,MAAP,CAAc,EAAd,EAAkBmF,IAAI,CAACC,OAAvB,EAAgC,MAAI,CAACpG,OAAL,CAAaiG,MAAb,CAAoBE,IAAI,CAACC,OAAzB,KAAqC,EAArE,CAAf;CACA,mBAAOD,IAAP;CACD,WAHD;CAID,SALD,MAKO;CACLF,UAAAA,MAAM,CAACA,MAAP,GAAgB,KAAKjG,OAAL,CAAaiG,MAA7B;CACD;;CAED,YAAMI,MAAM,GAAG;CACbC,UAAAA,SAAS,EAAE,KAAKC,aAAL,EADE;CAEbC,UAAAA,SAAS,EAAE;CACTP,YAAAA,MAAM,EAAEA,MADC;CAETQ,YAAAA,IAAI,EAAE;CAAEC,cAAAA,OAAO,EAAE,KAAK1G,OAAL,CAAayG;CAAxB,aAFG;CAGTE,YAAAA,eAAe,EAAE;CAAEC,cAAAA,iBAAiB,EAAE,KAAK5G,OAAL,CAAa6G;CAAlC;CAHR;CAFE,SAAf,CAZiB;;CAsBjB,YAAI,KAAK7G,OAAL,CAAa8G,OAAb,KAAyB,QAA7B,EAAuC;CACrCT,UAAAA,MAAM,CAACG,SAAP,CAAiBO,UAAjB,GAA8B;CAC5BL,YAAAA,OAAO,EAAE;CADmB,WAA9B;CAGD;;CAED,eAAOL,MAAP;CACD;CAjL4B;CAAA;CAAA,sCAmLb;CACd,eAAO,cAAP;CACD;CArL4B;;CAAA;CAAA;;;CAyL/B3C,EAAAA,QAAQ,CAACS,QAAT,GAAoB,EAApB;CAEAT,EAAAA,QAAQ,CAACxK,QAAT,GAAoB;CAClB0K,IAAAA,IAAI,EAAE,aADY;CAElBqC,IAAAA,MAAM,EAAE,CAFU;CAGlBQ,IAAAA,IAAI,EAAE,IAHY;CAIlBjB,IAAAA,MAAM,EAAE,OAJU;CAKlBqB,IAAAA,QAAQ,EAAE,cALQ;CAMlBG,IAAAA,SAAS,EAAE,QANO;CAOlBF,IAAAA,OAAO,EAAE;CAPS,GAApB;CAUA,SAAOpD,QAAP;CACD,CAtMgB,CAsMdD,MAtMc,EAsMNwD,MAAM,CAACtD,MAtMD,CAAjB;;CCFA,IAAMuD,SAAS,GAAI,YAAY;CAC7B,MAAMC,GAAG,GAAG,SAANA,GAAM,CAAChP,MAAD;CAAA,WAAY,WAAIA,MAAJ,EAAa+G,KAAb,CAAmB,CAAC,CAApB,CAAZ;CAAA,GAAZ;;CACA,MAAMkI,GAAG,GAAG,SAANA,GAAM,CAACC,IAAD;CAAA,WAAWA,IAAI,KAAK,IAAT,GAAgB,CAAhB,GAAoB,CAA/B;CAAA,GAAZ;;CACA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,WAAD,EAAcC,SAAd,EAAyBC,MAAzB;CAAA,WAAoCA,MAAM,CAACC,MAAP,CAAcF,SAAS,GAAG,WAAH,GAAiB,UAAxC,EAAoDD,WAApD,CAApC;CAAA,GAAnB;;CAEA,MAAMI,UAAU,GAAG;CACjBC,IAAAA,CAAC,EAAE,QADc;CAEjBC,IAAAA,CAAC,EAAE,QAFc;CAGjBC,IAAAA,CAAC,EAAE,cAHc;CAIjBC,IAAAA,CAAC,EAAE,cAJc;CAKjBC,IAAAA,CAAC,EAAE,kBALc;CAMjBC,IAAAA,CAAC,EAAE,EANc;CAOjBC,IAAAA,CAAC,EAAE,QAPc;CAQjBC,IAAAA,CAAC,EAAE,cARc;CASjBC,IAAAA,CAAC,EAAE,MATc;CAUjBC,IAAAA,CAAC,EAAE,cAVc;CAWjBC,IAAAA,CAAC,EAAE,UAXc;CAYjBC,IAAAA,CAAC,EAAE,MAZc;CAajBC,IAAAA,CAAC,EAAE,cAbc;CAcjBC,IAAAA,CAAC,EAAE,cAdc;CAejB/O,IAAAA,CAAC,EAAE,cAfc;CAgBjBC,IAAAA,CAAC,EAAE,cAhBc;CAiBjB+O,IAAAA,CAAC,EAAE,QAjBc;CAkBjBC,IAAAA,CAAC,EAAE,cAlBc;CAmBjBC,IAAAA,CAAC,EAAE,cAnBc;CAoBjBC,IAAAA,CAAC,EAAE,cApBc;CAqBjBC,IAAAA,CAAC,EAAE,cArBc;CAsBjBC,IAAAA,CAAC,EAAE;CAtBc,GAAnB;CAyBA,MAAMC,SAAS,GAAG;CAChBpB,IAAAA,CAAC,EAAE;CAAA,aAAMpQ,SAAN;CAAA,KADa;CAGhBqQ,IAAAA,CAAC,EAAE,WAAUoB,IAAV,EAAgBC,SAAhB,EAA2BzB,MAA3B,EAAmC;CACpCwB,MAAAA,IAAI,CAACE,QAAL,CAAc1B,MAAM,CAACC,MAAP,CAAc0B,QAAd,CAAuBnN,OAAvB,CAA+BiN,SAA/B,CAAd;CACD,KALe;CAOhBpB,IAAAA,CAAC,EAAE,WAACmB,IAAD,EAAOI,IAAP,EAAgB;CACjBJ,MAAAA,IAAI,CAACK,QAAL,CAActO,UAAU,CAACqO,IAAD,CAAxB;CACD,KATe;CAWhBtB,IAAAA,CAAC,EAAE,WAACkB,IAAD,EAAOI,IAAP,EAAgB;CACjBJ,MAAAA,IAAI,CAACK,QAAL,CAActO,UAAU,CAACqO,IAAD,CAAxB;CACD,KAbe;CAehBrB,IAAAA,CAAC,EAAE,WAACiB,IAAD,EAAOM,GAAP,EAAe;CAChBN,MAAAA,IAAI,CAACO,OAAL,CAAaxO,UAAU,CAACuO,GAAD,CAAvB;CACD,KAjBe;CAmBhBtB,IAAAA,CAAC,EAAE,WAACgB,IAAD,EAAOQ,IAAP,EAAahC,MAAb,EAAwB;CACzBwB,MAAAA,IAAI,CAACK,QAAL,CAAeL,IAAI,CAACS,QAAL,KAAkB,EAAnB,GAAyB,KAAKtC,GAAG,CAAC,IAAItM,MAAJ,CAAW2M,MAAM,CAACgC,IAAP,CAAY,CAAZ,CAAX,EAA2B,GAA3B,EAAgCpL,IAAhC,CAAqCoL,IAArC,CAAD,CAA/C;CACD,KArBe;CAuBhBvB,IAAAA,CAAC,EAAE,WAAUe,IAAV,EAAgBU,UAAhB,EAA4BlC,MAA5B,EAAoC;CACrCwB,MAAAA,IAAI,CAACE,QAAL,CAAc1B,MAAM,CAACC,MAAP,CAAcF,SAAd,CAAwBvL,OAAxB,CAAgC0N,UAAhC,CAAd;CACD,KAzBe;CA2BhBxB,IAAAA,CAAC,EAAE,WAACc,IAAD,EAAOW,OAAP,EAAmB;CACpBX,MAAAA,IAAI,CAACY,UAAL,CAAgB7O,UAAU,CAAC4O,OAAD,CAA1B;CACD,KA7Be;CA+BhBxB,IAAAA,CAAC,EAAE,WAAC0B,CAAD,EAAIC,WAAJ;CAAA,aAAoB,IAAI5M,IAAJ,CAASnC,UAAU,CAAC+O,WAAD,CAAV,GAA0B,IAAnC,CAApB;CAAA,KA/Ba;CAiChB1B,IAAAA,CAAC,EAAE,WAAUY,IAAV,EAAgBe,OAAhB,EAAyB;CAC1B,UAAMC,UAAU,GAAGzO,QAAQ,CAACwO,OAAD,CAA3B;CACA,aAAO,IAAI7M,IAAJ,CAAS8L,IAAI,CAACiB,WAAL,EAAT,EAA6B,CAA7B,EAAgC,IAAI,CAACD,UAAU,GAAG,CAAd,IAAmB,CAAvD,EAA0D,CAA1D,EAA6D,CAA7D,EAAgE,CAAhE,EAAmE,CAAnE,CAAP;CACD,KApCe;CAsChB3B,IAAAA,CAAC,EAAE,WAACW,IAAD,EAAOkB,IAAP,EAAgB;CACjBlB,MAAAA,IAAI,CAACmB,WAAL,CAAiBpP,UAAU,CAACmP,IAAD,CAA3B;CACD,KAxCe;CA0ChB5B,IAAAA,CAAC,EAAE,WAACuB,CAAD,EAAIO,OAAJ;CAAA,aAAgB,IAAIlN,IAAJ,CAASkN,OAAT,CAAhB;CAAA,KA1Ca;CA4ChB7B,IAAAA,CAAC,EAAE,WAACS,IAAD,EAAOM,GAAP,EAAe;CAChBN,MAAAA,IAAI,CAACO,OAAL,CAAaxO,UAAU,CAACuO,GAAD,CAAvB;CACD,KA9Ce;CAgDhBd,IAAAA,CAAC,EAAE,WAACQ,IAAD,EAAOI,IAAP,EAAgB;CACjBJ,MAAAA,IAAI,CAACK,QAAL,CAActO,UAAU,CAACqO,IAAD,CAAxB;CACD,KAlDe;CAoDhB3P,IAAAA,CAAC,EAAE,WAACuP,IAAD,EAAOqB,OAAP,EAAmB;CACpBrB,MAAAA,IAAI,CAACsB,UAAL,CAAgBvP,UAAU,CAACsP,OAAD,CAA1B;CACD,KAtDe;CAwDhB3Q,IAAAA,CAAC,EAAE,WAACsP,IAAD,EAAOM,GAAP,EAAe;CAChBN,MAAAA,IAAI,CAACO,OAAL,CAAaxO,UAAU,CAACuO,GAAD,CAAvB;CACD,KA1De;CA4DhBb,IAAAA,CAAC,EAAE;CAAA,aAAMlR,SAAN;CAAA,KA5Da;CA8DhBmR,IAAAA,CAAC,EAAE,WAACM,IAAD,EAAOuB,KAAP,EAAiB;CAClBvB,MAAAA,IAAI,CAACE,QAAL,CAAcnO,UAAU,CAACwP,KAAD,CAAV,GAAoB,CAAlC;CACD,KAhEe;CAkEhB5B,IAAAA,CAAC,EAAE,WAACK,IAAD,EAAOuB,KAAP,EAAiB;CAClBvB,MAAAA,IAAI,CAACE,QAAL,CAAcnO,UAAU,CAACwP,KAAD,CAAV,GAAoB,CAAlC;CACD,KApEe;CAsEhB3B,IAAAA,CAAC,EAAE,WAACI,IAAD,EAAOW,OAAP,EAAmB;CACpBX,MAAAA,IAAI,CAACY,UAAL,CAAgB7O,UAAU,CAAC4O,OAAD,CAA1B;CACD,KAxEe;CA0EhBd,IAAAA,CAAC,EAAE;CAAA,aAAMtR,SAAN;CAAA,KA1Ea;CA4EhBuR,IAAAA,CAAC,EAAE,WAACE,IAAD,EAAOkB,IAAP,EAAgB;CACjBlB,MAAAA,IAAI,CAACmB,WAAL,CAAiB,OAAOpP,UAAU,CAACmP,IAAD,CAAlC;CACD;CA9Ee,GAAlB;CAiFA,MAAMvO,OAAO,GAAG;CACd;CACA2M,IAAAA,CAAC,EAAE,WAACU,IAAD;CAAA,aAAUA,IAAI,CAACwB,WAAL,EAAV;CAAA,KAFW;CAId;CACA7C,IAAAA,CAAC,EAAE,WAAUqB,IAAV,EAAgBxB,MAAhB,EAAwB;CACzB,aAAOA,MAAM,CAACiD,QAAP,CAAgBlD,SAAhB,CAA0B5L,OAAO,CAACkN,CAAR,CAAUG,IAAV,EAAgBxB,MAAhB,CAA1B,CAAP;CACD,KAPa;CASd;CACAI,IAAAA,CAAC,EAAE,WAAUoB,IAAV,EAAgBxB,MAAhB,EAAwB;CACzB,aAAOH,UAAU,CAAC1L,OAAO,CAACgN,CAAR,CAAUK,IAAV,EAAgBxB,MAAhB,IAA0B,CAA3B,EAA8B,KAA9B,EAAqCA,MAArC,CAAjB;CACD,KAZa;CAcd;CACAK,IAAAA,CAAC,EAAE,WAAUmB,IAAV,EAAgBxB,MAAhB,EAAwB;CACzB,aAAON,GAAG,CAACvL,OAAO,CAAC6M,CAAR,CAAUQ,IAAV,EAAgBxB,MAAhB,CAAD,CAAV;CACD,KAjBa;CAmBd;CACAM,IAAAA,CAAC,EAAE,WAACkB,IAAD;CAAA,aAAU9B,GAAG,CAAC8B,IAAI,CAACS,QAAL,EAAD,CAAb;CAAA,KApBW;CAsBd;CACA1B,IAAAA,CAAC,EAAE,WAAUiB,IAAV,EAAgBxB,MAAhB,EAAwB;CACzB,aAAOA,MAAM,CAACkD,OAAP,KAAmBnT,SAAnB,GACHyR,IAAI,CAAC2B,OAAL,KAAiBnD,MAAM,CAACkD,OAAP,CAAe1B,IAAI,CAAC2B,OAAL,EAAf,CADd,GAEH3B,IAAI,CAAC2B,OAAL,EAFJ;CAGD,KA3Ba;CA6Bd;CACA3C,IAAAA,CAAC,EAAE,WAACgB,IAAD,EAAOxB,MAAP;CAAA,aAAkBA,MAAM,CAACgC,IAAP,CAAYrC,GAAG,CAAC6B,IAAI,CAACS,QAAL,KAAkB,EAAnB,CAAf,CAAlB;CAAA,KA9BW;CAgCd;CACAxB,IAAAA,CAAC,EAAE,WAAUe,IAAV,EAAgBxB,MAAhB,EAAwB;CACzB,aAAOH,UAAU,CAAC2B,IAAI,CAAC4B,QAAL,EAAD,EAAkB,IAAlB,EAAwBpD,MAAxB,CAAjB;CACD,KAnCa;CAqCd;CACAU,IAAAA,CAAC,EAAE,WAACc,IAAD;CAAA,aAAU9B,GAAG,CAAC8B,IAAI,CAAC6B,UAAL,EAAD,CAAb;CAAA,KAtCW;CAwCd;CACA1C,IAAAA,CAAC,EAAE,WAACa,IAAD;CAAA,aAAUA,IAAI,CAAC8B,OAAL,KAAiB,IAA3B;CAAA,KAzCW;CA2Cd;CACA1C,IAAAA,CAAC,EAAE,WAAUY,IAAV,EAAgB;CACjB,aAAO/B,SAAS,CAAC8D,OAAV,CAAkB/B,IAAlB,CAAP;CACD,KA9Ca;CAgDd;CACAX,IAAAA,CAAC,EAAE,WAACW,IAAD;CAAA,aAAUA,IAAI,CAACiB,WAAL,EAAV;CAAA,KAjDW;CAmDd;CACA1B,IAAAA,CAAC,EAAE,WAACS,IAAD;CAAA,aAAU9B,GAAG,CAAC8B,IAAI,CAAC2B,OAAL,EAAD,CAAb;CAAA,KApDW;CAsDd;CACAnC,IAAAA,CAAC,EAAE,WAACQ,IAAD;CAAA,aAAWA,IAAI,CAACS,QAAL,KAAkB,EAAlB,GAAuBT,IAAI,CAACS,QAAL,KAAkB,EAAzC,GAA8C,EAAzD;CAAA,KAvDW;CAyDd;CACAhQ,IAAAA,CAAC,EAAE,WAACuP,IAAD;CAAA,aAAU9B,GAAG,CAAC8B,IAAI,CAACgC,UAAL,EAAD,CAAb;CAAA,KA1DW;CA4Dd;CACAtR,IAAAA,CAAC,EAAE,WAACsP,IAAD;CAAA,aAAUA,IAAI,CAAC2B,OAAL,EAAV;CAAA,KA7DW;CA+Dd;CACAlC,IAAAA,CAAC,EAAE,WAAUO,IAAV,EAAgBxB,MAAhB,EAAwB;CACzB,aAAOA,MAAM,CAACiD,QAAP,CAAgBtB,QAAhB,CAAyBH,IAAI,CAACiC,MAAL,EAAzB,CAAP;CACD,KAlEa;CAoEd;CACAvC,IAAAA,CAAC,EAAE,WAACM,IAAD;CAAA,aAAU9B,GAAG,CAAC8B,IAAI,CAAC4B,QAAL,KAAkB,CAAnB,CAAb;CAAA,KArEW;CAuEd;CACAjC,IAAAA,CAAC,EAAE,WAACK,IAAD;CAAA,aAAUA,IAAI,CAAC4B,QAAL,KAAkB,CAA5B;CAAA,KAxEW;CA0Ed;CACAhC,IAAAA,CAAC,EAAE,WAACI,IAAD;CAAA,aAAUA,IAAI,CAAC6B,UAAL,EAAV;CAAA,KA3EW;CA6Ed;CACAhC,IAAAA,CAAC,EAAE,WAACG,IAAD;CAAA,aAAUA,IAAI,CAACiC,MAAL,EAAV;CAAA,KA9EW;CAgFd;CACAnC,IAAAA,CAAC,EAAE,WAACE,IAAD;CAAA,aAAUkC,MAAM,CAAClC,IAAI,CAACiB,WAAL,EAAD,CAAN,CAA2BkB,SAA3B,CAAqC,CAArC,CAAV;CAAA;CAjFW,GAAhB;CAoFA,SAAO;CACLC,IAAAA,IAAI,EAAE;CACJ5B,MAAAA,IAAI,EAAE,CAAC,IAAD,EAAO,IAAP,CADF;CAEJiB,MAAAA,QAAQ,EAAE;CACRlD,QAAAA,SAAS,EAAE,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CADH;CAER4B,QAAAA,QAAQ,EAAE,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,WAAhC,EAA6C,UAA7C,EAAyD,QAAzD,EAAmE,UAAnE;CAFF,OAFN;CAMJ1B,MAAAA,MAAM,EAAE;CACNF,QAAAA,SAAS,EAAE,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EAAgE,KAAhE,EAAuE,KAAvE,EAA8E,KAA9E,CADL;CAEN4B,QAAAA,QAAQ,EAAE,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,EAAiC,OAAjC,EAA0C,KAA1C,EAAiD,MAAjD,EAAyD,MAAzD,EAAiE,QAAjE,EAA2E,WAA3E,EAAwF,SAAxF,EAAmG,UAAnG,EAA+G,UAA/G;CAFJ;CANJ,KADD;CAaL4B,IAAAA,OAbK,mBAaGM,SAbH,EAac;CACjB,UAAMrC,IAAI,GAAG,IAAI9L,IAAJ,CAASmO,SAAS,CAACP,OAAV,EAAT,CAAb;CACA9B,MAAAA,IAAI,CAACK,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAFiB;;CAKjBL,MAAAA,IAAI,CAACO,OAAL,CAAaP,IAAI,CAAC2B,OAAL,KAAiB,CAAjB,GAAsB,CAAC3B,IAAI,CAACiC,MAAL,KAAgB,CAAjB,IAAsB,CAAzD,EALiB;;CAQjB,UAAMK,KAAK,GAAG,IAAIpO,IAAJ,CAAS8L,IAAI,CAACiB,WAAL,EAAT,EAA6B,CAA7B,EAAgC,CAAhC,CAAd,CARiB;;CAWjB,aAAQ,IAAIlQ,IAAI,CAACC,KAAL,CAAW,CAAC,CAACgP,IAAI,CAAC8B,OAAL,KAAiBQ,KAAK,CAACR,OAAN,EAAlB,IAAqC,QAArC,GAAgD,CAAhD,GAAqD,CAACQ,KAAK,CAACL,MAAN,KAAiB,CAAlB,IAAuB,CAA7E,IAAmF,CAA9F,CAAZ;CACD,KAzBI;CA2BLpT,IAAAA,MA3BK,kBA2BGmR,IA3BH,EA2BSnR,OA3BT,EA2BiB2P,MA3BjB,EA2ByB;CAC5BA,MAAAA,MAAM,GAAGA,MAAM,IAAI,KAAK4D,IAAxB;CAEA,aAAOvT,OAAM,CACV4D,KADI,CACE,EADF,EAEJnD,GAFI,CAEA,UAACiT,CAAD,EAAI9R,CAAJ,EAAO+R,GAAP;CAAA,eAAe7P,OAAO,CAAC4P,CAAD,CAAP,IAAcC,GAAG,CAAC/R,CAAC,GAAG,CAAL,CAAH,KAAe,IAA7B,GAAoCkC,OAAO,CAAC4P,CAAD,CAAP,CAAWvC,IAAX,EAAiBxB,MAAjB,CAApC,GAA+D+D,CAAC,KAAK,IAAN,GAAaA,CAAb,GAAiB,EAA/F;CAAA,OAFA,EAGJnP,IAHI,CAGC,EAHD,CAAP;CAID,KAlCI;CAoCL1B,IAAAA,KApCK,iBAoCCsO,IApCD,EAoCOnR,MApCP,EAoCe4T,QApCf,EAoCyBjE,MApCzB,EAoCiC;CACpCA,MAAAA,MAAM,GAAGA,MAAM,IAAI,KAAK4D,IAAxB;;CAEA,UAAIpC,IAAI,KAAK,CAAT,IAAc,CAACA,IAAnB,EAAyB;CACvB,eAAOzR,SAAP;CACD;;CAED,UAAImU,UAAJ;AACA;CAEA,UAAI1C,IAAI,YAAY9L,IAApB,EAA0B;CACxBwO,QAAAA,UAAU,GAAG,IAAIxO,IAAJ,CAAS8L,IAAI,CAAC8B,OAAL,EAAT,CAAb;CACD,OAFD,MAEO,IAAI,OAAO9B,IAAP,KAAgB,QAAhB,IAA4BA,IAAI,CAAChO,OAAL,KAAiBzD,SAAjD,EAA4D;CACjEmU,QAAAA,UAAU,GAAG,IAAIxO,IAAJ,CAAS8L,IAAT,CAAb;CACD,OAFM,MAEA,IAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CACnC,YAAM2C,OAAO,GAAGT,MAAM,CAAClC,IAAD,CAAN,CAAa7H,IAAb,EAAhB;;CAEA,YAAIwK,OAAO,KAAK,OAAhB,EAAyB;CACvBD,UAAAA,UAAU,GAAG,IAAIxO,IAAJ,EAAb;CACAuO,UAAAA,QAAQ,GAAG,IAAX;CACD,SAHD,MAGO,IAAI,KAAKrN,IAAL,CAAUuN,OAAV,KAAsB,OAAOvN,IAAP,CAAYuN,OAAZ,CAA1B,EAAgD;CACrDD,UAAAA,UAAU,GAAG,IAAIxO,IAAJ,CAAS8L,IAAT,CAAb;CACD,SAFM,MAEA;CACL0C,UAAAA,UAAU,GAAG,IAAIxO,IAAJ,CAAS,IAAIA,IAAJ,GAAW+M,WAAX,EAAT,EAAmC,CAAnC,EAAsC,CAAtC,EAAyC,CAAzC,EAA4C,CAA5C,EAA+C,CAA/C,EAAkD,CAAlD,CAAb;CAEA,cAAI2B,OAAJ;CAAA,cAAaC,GAAG,GAAG,EAAnB;;CACA,eAAK,IAAIpS,CAAC,GAAG,CAAR,EAAWqS,UAAU,GAAG,CAAxB,EAA2BC,QAAQ,GAAG,EAA3C,EAA+CtS,CAAC,GAAG5B,MAAM,CAAC8B,MAA1D,EAAkEF,CAAC,EAAnE,EAAuE;CACrE,gBAAMgF,KAAK,GAAG5G,MAAM,CAAC4B,CAAD,CAApB;CACA,gBAAMuS,WAAW,GAAGvN,KAAK,KAAK,IAA9B;CACA,gBAAMwN,OAAO,GAAGpU,MAAM,CAAC4B,CAAC,GAAG,CAAL,CAAN,KAAkB,IAAlB,IAA0BuS,WAA1C;;CAEA,gBAAItE,UAAU,CAACjJ,KAAD,CAAV,IAAqB,CAACwN,OAA1B,EAAmC;CACjCF,cAAAA,QAAQ,IAAIrE,UAAU,CAACjJ,KAAD,CAAtB;CACA,kBAAMrE,KAAK,GAAG,IAAIS,MAAJ,CAAWkR,QAAX,EAAqBtM,IAArB,CAA0BuJ,IAA1B,CAAd;;CAEA,kBAAI5O,KAAK,KAAKwR,OAAO,GAAG,IAAf,CAAT,EAA+B;CAC7BC,gBAAAA,GAAG,CAACpN,KAAK,KAAK,GAAV,GAAgB,MAAhB,GAAyB,SAA1B,CAAH,CAAwC;CACtCwH,kBAAAA,EAAE,EAAE8C,SAAS,CAACtK,KAAD,CADyB;CAEtC5E,kBAAAA,GAAG,EAAEO,KAAK,CAAC,EAAE0R,UAAH;CAF4B,iBAAxC;CAID;CACF,aAVD,MAUO,IAAI,CAACE,WAAL,EAAkB;CACvBD,cAAAA,QAAQ,IAAI,GAAZ,CADuB;CAExB;;CAEDF,YAAAA,GAAG,CAACK,OAAJ,CAAY;CAAA,kBAAEjG,EAAF,QAAEA,EAAF;CAAA,kBAAMpM,GAAN,QAAMA,GAAN;CAAA,qBAAgB6R,UAAU,GAAGzF,EAAE,CAACyF,UAAD,EAAa7R,GAAb,EAAkB2N,MAAlB,CAAF,IAA+BkE,UAA5D;CAAA,aAAZ;CACD;;CAEDA,UAAAA,UAAU,GAAGE,OAAO,GAAGF,UAAH,GAAgBnU,SAApC;CACD;CACF;CAED;;;CACA,UAAI,EAAEmU,UAAU,YAAYxO,IAAtB,IAA8B,CAAChD,KAAK,CAACwR,UAAU,CAACZ,OAAX,EAAD,CAAtC,CAAJ,EAAmE;CACjE;CACA,eAAOvT,SAAP;CACD;;CAED,UAAIkU,QAAQ,KAAK,IAAjB,EAAuB;CACrBC,QAAAA,UAAU,CAACrC,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B;CACD;;CAED,aAAOqC,UAAP;CACD;CAnGI,GAAP;CAqGD,CAxSiB,EAAlB;;CCMA,IAAIS,MAAM,GAAGnF,MAAM,CAACoF,UAAP,GAAoB,EAAjC;;CAGAD,MAAM,CAACE,KAAP,GAAe,EAAf;CACAF,MAAM,CAACG,SAAP,GAAmB,EAAnB;CACAH,MAAM,CAACI,IAAP,GAAcvF,MAAM,CAACwF,gBAAP,IAA2B,EAAzC;CAEAL,MAAM,CAAC/F,MAAP,GAAgB1N,MAAM,CAACqI,MAAP,CAAe,EAAf,EAAmB;CACjC0L,EAAAA,KAAK,EAAEzF,MAAM,CAAC0F,QAAP,CAAgBC,MAAhB,GAAyB,qBADC;CAEjCC,EAAAA,QAAQ,EAAE5F,MAAM,CAAC0F,QAAP,CAAgBC,MAAhB,GAAyB;CAFF,CAAnB,EAGb3F,MAAM,CAAC6F,WAHM,CAAhB;CAKAV,MAAM,CAACE,KAAP,CAAaS,KAAb,GAAqB7F,SAArB;;CACA,IAAI,OAAOD,MAAM,CAAC+F,SAAd,KAA4B,WAAhC,EAA6C;CAC3CZ,EAAAA,MAAM,CAACE,KAAP,CAAaS,KAAb,CAAmB1B,IAAnB,GAA0B2B,SAAS,CAACC,KAAV,CAAgBC,OAA1C;CACD;;CAEDd,MAAM,CAACE,KAAP,CAAaa,QAAb,GAAwB,UAAUxK,EAAV,EAAc0D,MAAd,EAAsB;CAC5CtE,EAAAA,CAAC,CAACY,EAAD,CAAD,CAAMyK,IAAN,CAAW,YAAY;CACrBrL,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQoE,IAAR,CAAa,eAAb,EAA8B,IAAIzC,QAAJ,CAAa,IAAb,EAAmB2C,MAAnB,CAA9B;CACD,GAFD;CAGD,CAJD;CAMA;;;;;;;;CAMA+F,MAAM,CAACM,KAAP,GAAe,UAAUA,KAAV,EAAiB;CAC9B,SAAO,KAAKrG,MAAL,CAAYqG,KAAZ,GAAoB,CAACA,KAAK,IAAI,EAAV,EAAclS,OAAd,CAAsB,MAAtB,EAA8B,EAA9B,CAA3B;CACD,CAFD;CAIA;;;;;;;;;CAOA4R,MAAM,CAACiB,UAAP,GAAoB,UAAUC,QAAV,EAAoBtN,OAApB,EAA6B;CAC/C,MAAMwM,IAAI,GAAGJ,MAAM,CAACI,IAApB;CACA,MAAMtT,QAAQ,GAAGkT,MAAM,CAAC/F,MAAP,CAAcgH,UAA/B;CACA,MAAME,OAAO,GAAGlV,KAAK,CAACI,OAAN,CAAcS,QAAQ,CAACqU,OAAvB,IAAkCrU,QAAQ,CAACqU,OAA3C,GAAqD,EAArE;;CAEA,MAAIlV,KAAK,CAACI,OAAN,CAAcS,QAAQ,CAACsU,WAAvB,CAAJ,EAAyC;CACvCD,IAAAA,OAAO,CAAC9L,IAAR,CAAa,UAAUwH,IAAV,EAAgB;CAC3B,aAAO/P,QAAQ,CAACsU,WAAT,CAAqBvR,OAArB,CAA6BgN,IAAI,CAACiC,MAAL,EAA7B,MAAgD,CAAC,CAAxD;CACD,KAFD;CAGD,GAT8C;CAY/C;;;CAEA,MAAMuC,SAAS,GAAG;CAChBC,IAAAA,UAAU,EAAE,OADI;CAEhBC,IAAAA,cAAc,EAAEnB,IAAI,CAACkB,UAFL;CAGhBE,IAAAA,OAAO,EAAE,OAHO;CAIhB;CACA;CACAC,IAAAA,UAAU,EAAE3U,QAAQ,CAAC2U,UAAT,IAAuB,CANnB;CAOhBC,IAAAA,UAAU,EAAE,KAPI;CAQhBC,IAAAA,aAAa,EAAE,KARC;CAShBC,IAAAA,aAAa,EAAE,KATC;CAUhBC,IAAAA,OAVgB,mBAURnE,CAVQ,EAULoE,EAVK,EAUDC,EAVC,EAUG;CACjBA,MAAAA,EAAE,CAACC,iBAAH,CAAqBhK,SAArB,CAA+Bc,GAA/B,CAAmC,uBAAnC;CACD;CAZe,GAAlB;CAeA,SAAO8H,SAAS,CAACM,QAAD,EAAWvL,CAAC,CAACsM,MAAF,CAAS,EAAT,EAAaZ,SAAb,EAAwBzN,OAAxB,CAAX,CAAhB;CACD,CA9BD;CAgCA;;;;;;;;CAMAoM,MAAM,CAACkC,WAAP,GAAqB,UAASC,MAAT,EAAiB;CACpC,SAAOC,UAAU,CAAC7S,WAAX,CAAuB4S,MAAvB,EAA+B;CACpCzW,IAAAA,MAAM,EAAEsU,MAAM,CAACI,IAAP,CAAYiC,WADgB;CAEpC5W,IAAAA,MAAM,EAAEuU,MAAM,CAACI,IAAP,CAAYkC,cAFgB;CAGpC3W,IAAAA,OAAO,EAAEqU,MAAM,CAACI,IAAP,CAAYmC,gBAHe;CAIpC3W,IAAAA,QAAQ,EAAEoU,MAAM,CAACI,IAAP,CAAYoC,sBAJc;CAKpC3W,IAAAA,SAAS,EAAEmU,MAAM,CAACI,IAAP,CAAYqC;CALa,GAA/B,CAAP;CAOD,CARD;CAUA;;;;;;;CAKA9M,CAAC,CAAC,YAAY;CACZkF,EAAAA,MAAM,CAAC6H,KAAP,CAAa,6BAAb,EAA4C;CAC1CC,IAAAA,KAAK,EAAE;CADmC,GAA5C;CAIAhN,EAAAA,CAAC,CAAC,iCAAD,CAAD,CAAqCqL,IAArC,CAA2C,UAACzH,CAAD,EAAIhD,EAAJ,EAAW;CACpD,QAAMqM,MAAM,GAAG,IAAI/H,MAAM,CAACgI,UAAX,CAAsBtM,EAAtB,CAAf;CAEAqM,IAAAA,MAAM,CAAChK,EAAP,CAAU,MAAV,EAAkB,YAAM;CACtBrC,MAAAA,EAAE,CAACyB,SAAH,CAAac,GAAb,CAAiB,MAAjB;CACAvC,MAAAA,EAAE,CAAC0C,eAAH,CAAmB,aAAnB;CACD,KAHD;CAKA2J,IAAAA,MAAM,CAAChK,EAAP,CAAU,MAAV,EAAkB,YAAM;CACtBrC,MAAAA,EAAE,CAACyB,SAAH,CAAakB,MAAb,CAAoB,MAApB;CACA3C,MAAAA,EAAE,CAACiC,YAAH,CAAgB,aAAhB,EAA+B,IAA/B;CACD,KAHD;CAID,GAZD;CAcD,CAnBA,CAAD;;;;"}