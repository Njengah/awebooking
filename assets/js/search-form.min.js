!function(a,r,s){"use strict";function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}a=a&&a.hasOwnProperty("default")?a.default:a,r=r&&r.hasOwnProperty("default")?r.default:r,s=s&&s.hasOwnProperty("default")?s.default:s;var h=function(e){function i(e,n){var t=a.utils.dates.parse(e,"Y-m-d");return t?a.utils.dates.format(t,n||a.i18n.dateFormat):""}return function(){function t(){var e=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u(this,t),this.adults=ko.observable(n.adults||1),this.children=ko.observable(n.children||0),this.infants=ko.observable(n.infants||0),this.checkIn=ko.observable(n.checkIn||""),this.checkOut=ko.observable(n.checkOut||""),this.checkInDate=ko.computed(function(){return i(e.checkIn(),"Y-m-d")}),this.checkOutDate=ko.computed(function(){return i(e.checkOut(),"Y-m-d")})}return n(t,[{key:"checkInFormatted",value:function(e){return i(this.checkIn(),e)}},{key:"checkOutFormatted",value:function(e){return i(this.checkOut(),e)}}]),t}()}(jQuery),t=function(){function c(e){var t=this;u(this,c);var o=this;this.$el=s(e),this.model=new h({adults:this.$el.find('input[name="adults"]').val(),children:this.$el.find('input[name="children"]').val(),infants:this.$el.find('input[name="infants"]').val(),checkIn:this.$el.find('input[name="check_in"]').val(),checkOut:this.$el.find('input[name="check_out"]').val()}),r.applyBindings(this.model,e);var n=this.$el.find('[data-hotel="rangepicker"]');0===n.length&&(n=s('<input type="text" data-hotel="rangepicker"/>').appendTo(this.$el));var i=a.datepicker(n[0],{mode:"range",altInput:!1,clickOpens:!1,closeOnSelect:!0,onReady:function(e,n,t){t.calendarContainer.classList.add("awebooking-datepicker"),this.config.ignoredFocusElements.push(s(".searchbox__box--checkin",o.$el)[0]),this.config.ignoredFocusElements.push(s(".searchbox__box--checkout",o.$el)[0])},onChange:function(e){0===e.length?(t.model.checkIn(null),t.model.checkIn(null)):1===e.length?(t.model.checkIn(e[0]),t.model.checkOut(null)):(t.model.checkIn(e[0]),t.model.checkOut(e[1]))},onPreCalendarPosition:function(e,n,t){var i=this;t._positionElement=s(".searchbox__box--checkout",o.$el)[0],setTimeout(function(){i._positionElement=i._input},0)}});s(this.$el).on("click",".searchbox__box--checkin, .searchbox__box--checkout",function(e){e.preventDefault(),i.isOpen=!1,i.open(void 0,e.currentTarget)}),s(".searchbox__box",this.$el).each(function(e,n){s(n).data("popup",t.setuptPopper(n))}),s('[data-trigger="spinner"]',this.$el).on("changed.spinner",function(){s(this).find('[data-spin="spinner"]').trigger("change")})}return n(c,[{key:"setuptPopper",value:function(e){0!==s(e).find(".searchbox__popup").length&&a.utils.dropdown(s(e).find(".searchbox__box-wrap"),{drop:".searchbox__popup",display:"static"})}}]),c}();s(function(){s(".awebooking .searchbox, .awebooking-block .searchbox").each(function(e,n){new t(n)})})}(window.awebooking,ko,jQuery);