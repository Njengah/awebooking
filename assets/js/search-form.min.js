!function(a,u,i){"use strict";a=a&&a.hasOwnProperty("default")?a.default:a,u=u&&u.hasOwnProperty("default")?u.default:u,i=i&&i.hasOwnProperty("default")?i.default:i;var h=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function c(e,t){var n=i.utils.dates.parse(e,"Y-m-d");return n?i.utils.dates.format(n,t||i.i18n.dateFormat):""}var r=function(){function n(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};h(this,n),this.adults=a.observable(t.adults||1),this.children=a.observable(t.children||0),this.infants=a.observable(t.infants||0),this.checkIn=a.observable(t.checkIn||""),this.checkOut=a.observable(t.checkOut||""),this.checkInDate=a.computed(function(){return c(e.checkIn(),"Y-m-d")}),this.checkOutDate=a.computed(function(){return c(e.checkOut(),"Y-m-d")})}return e(n,[{key:"checkInFormatted",value:function(e){return c(this.checkIn(),e)}},{key:"checkOutFormatted",value:function(e){return c(this.checkOut(),e)}}]),n}(),t=function(){function o(e){var n=this;h(this,o);var t=this;this.$el=u(e),this.model=new r({adults:this.$el.find('input[name="adults"]').val(),children:this.$el.find('input[name="children"]').val(),infants:this.$el.find('input[name="infants"]').val(),checkIn:this.$el.find('input[name="check_in"]').val(),checkOut:this.$el.find('input[name="check_out"]').val()}),a.applyBindings(this.model,e);var i=this.$el.find('[data-hotel="rangepicker"]');0===i.length&&(i=u('<input type="text" data-hotel="rangepicker"/>').appendTo(this.$el));var c=awebooking.datepicker(i[0],{mode:"range",altInput:!1,clickOpens:!1,closeOnSelect:!0,onReady:function(){this.config.ignoredFocusElements.push(u(".searchbox__box--checkin",t.$el)[0]),this.config.ignoredFocusElements.push(u(".searchbox__box--checkout",t.$el)[0])},onChange:function(e){0===e.length?(n.model.checkIn(null),n.model.checkIn(null)):1===e.length?(n.model.checkIn(e[0]),n.model.checkOut(null)):(n.model.checkIn(e[0]),n.model.checkOut(e[1]))},onPreCalendarPosition:function(){var e=this;c._positionElement=u(".searchbox__box--checkout",t.$el)[0],setTimeout(function(){e._positionElement=e._input},0)}});u(".searchbox__box--checkin, .searchbox__box--checkout",this.$el).on("click focus",function(e){e.preventDefault(),c.isOpen=!1,c.open(void 0,this)}),u(".searchbox__box",this.$el).each(function(e,t){u(t).data("popup",n.setuptPopper(t))})}return e(o,[{key:"setuptPopper",value:function(e){0!==u(e).find(".searchbox__popup").length&&i.utils.dropdown(u(e).find(".searchbox__box-wrap"),{drop:".searchbox__popup",display:"static"})}}]),o}();u(function(){u(".searchbox").each(function(){new t(this)})})}(ko,jQuery,window.awebooking);