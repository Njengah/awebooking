!function(a,u,r){"use strict";a=a&&a.hasOwnProperty("default")?a.default:a,u=u&&u.hasOwnProperty("default")?u.default:u,r=r&&r.hasOwnProperty("default")?r.default:r;var h=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e=function(){function c(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}}();function c(e,t){var n=r.utils.dates.parse(e,"Y-m-d");return n?r.utils.dates.format(n,t||r.i18n.dateFormat):""}var l=function(){function n(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};h(this,n),this.adults=a.observable(t.adults||1),this.children=a.observable(t.children||0),this.infants=a.observable(t.infants||0),this.checkIn=a.observable(t.checkIn||""),this.checkOut=a.observable(t.checkOut||""),this.checkInDate=a.computed(function(){return c(e.checkIn(),"Y-m-d")}),this.checkOutDate=a.computed(function(){return c(e.checkOut(),"Y-m-d")})}return e(n,[{key:"checkInFormatted",value:function(e){return c(this.checkIn(),e)}},{key:"checkOutFormatted",value:function(e){return c(this.checkOut(),e)}}]),n}(),t=function(){function o(e){var n=this;h(this,o);var t=this;this.$el=u(e),this.model=new l({adults:this.$el.find('input[name="adults"]').val(),children:this.$el.find('input[name="children"]').val(),infants:this.$el.find('input[name="infants"]').val(),checkIn:this.$el.find('input[name="check_in"]').val(),checkOut:this.$el.find('input[name="check_out"]').val()}),a.applyBindings(this.model,e);var c=this.$el.find('[data-hotel="rangepicker"]');0===c.length&&(c=u('<input type="text" data-hotel="rangepicker"/>').appendTo(this.$el));var i=r.datepicker(c[0],{mode:"range",altInput:!1,clickOpens:!1,closeOnSelect:!0,onReady:function(){this.config.ignoredFocusElements.push(u(".searchbox__box--checkin",t.$el)[0]),this.config.ignoredFocusElements.push(u(".searchbox__box--checkout",t.$el)[0])},onChange:function(e){0===e.length?(n.model.checkIn(null),n.model.checkIn(null)):1===e.length?(n.model.checkIn(e[0]),n.model.checkOut(null)):(n.model.checkIn(e[0]),n.model.checkOut(e[1]))},onPreCalendarPosition:function(){var e=this;i._positionElement=u(".searchbox__box--checkout",t.$el)[0],setTimeout(function(){e._positionElement=e._input},0)}});u(this.$el).on("click",".searchbox__box--checkin, .searchbox__box--checkout",function(e){e.preventDefault(),i.isOpen=!1,i.open(void 0,e.currentTarget)}),u(".searchbox__box",this.$el).each(function(e,t){u(t).data("popup",n.setuptPopper(t))})}return e(o,[{key:"setuptPopper",value:function(e){0!==u(e).find(".searchbox__popup").length&&r.utils.dropdown(u(e).find(".searchbox__box-wrap"),{drop:".searchbox__popup",display:"static"})}}]),o}();u(function(){u(".searchbox").each(function(){new t(this)})})}(ko,jQuery,window.awebooking);