!function(r){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r;var n=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),h=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},t="%[a-f0-9]{2}",i=new RegExp(t,"gi"),s=new RegExp("("+t+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],a(n),a(o))}function u(t){try{return decodeURIComponent(t)}catch(e){for(var n=t.match(i),o=1;o<n.length;o++)n=(t=a(n,o).join("")).match(i);return t}}var o=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+(void 0===t?"undefined":p(t))+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=s.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var o=u(n[0]);o!==n[0]&&(t[n[0]]=o)}n=s.exec(e)}t["%C2"]="�";for(var r=Object.keys(t),i=0;i<r.length;i++){var a=r[i];e=e.replace(new RegExp(a,"g"),t[a])}return e}(t)}};function f(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function m(e,t){return t.decode?o(e):e}function c(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){var n=function(e){var o=void 0;switch(e.arrayFormat){case"index":return function(e,t,n){o=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),o?(void 0===n[e]&&(n[e]={}),n[e][o[1]]=t):n[e]=t};case"bracket":return function(e,t,n){o=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),o?void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=[t]:n[e]=t};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=Object.assign({decode:!0,arrayFormat:"none"},t)),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;var r=!0,i=!1,a=void 0;try{for(var s,u=e.split("&")[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value.replace(/\+/g," ").split("="),l=h(c,2),d=l[0],f=l[1];f=void 0===f?null:m(f,t),n(m(d,t),f,o)}}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return Object.keys(o).sort().reduce(function(e,t){var n=o[t];return Boolean(n)&&"object"===(void 0===n?"undefined":p(n))&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===(void 0===t?"undefined":p(t))?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(n):e[t]=n,e},Object.create(null))}var d,y,v,g,b=function(c,l){!1===(l=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},l)).sort&&(l.sort=function(){});var d=function(o){switch(o.arrayFormat){case"index":return function(e,t,n){return null===t?[f(e,o),"[",n,"]"].join(""):[f(e,o),"[",f(n,o),"]=",f(t,o)].join("")};case"bracket":return function(e,t){return null===t?[f(e,o),"[]"].join(""):[f(e,o),"[]=",f(t,o)].join("")};default:return function(e,t){return null===t?f(e,o):[f(e,o),"=",f(t,o)].join("")}}}(l);return c?Object.keys(c).sort(l.sort).map(function(e){var t=c[e];if(void 0===t)return"";if(null===t)return f(e,l);if(Array.isArray(t)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t.slice()[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var u=a.value;void 0!==u&&n.push(d(e,u,n.length))}}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n.join("&")}return f(e,l)+"="+f(t,l)}).filter(function(e){return 0<e.length}).join("&"):""},w=function(e,t){return{url:e.split("?")[0]||"",query:l(c(e),t)}},D=(d=jQuery,{TRANSITION_END:function(){var e="",t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(var n in t)({}).hasOwnProperty.call(t,n)&&void 0!==document.createElement("p").style[n]&&(e=t[n]);return e}(),onTransitionEnd:function(e,t){var n=this,o=!1;d(e).one(this.TRANSITION_END,function(){t(),o=!0}),setTimeout(function(){o||d(e).trigger(n.TRANSITION_END)},this.getTransitionDurationFromElement(e))},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=d(e).css("transition-duration");return parseFloat(t)?(t=t.split(",")[0],1e3*parseFloat(t)):0},getTargetFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||"");try{return document.querySelector(t)?t:null}catch(e){return null}}}),E=(y=jQuery,v=window.Popper,(g=function(){function o(e,t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.element=e,this.options=Object.assign({},o.defaults,t),this.drop=this._getDropElement(),this.popper=null,!this.drop||void 0===this.drop)throw new Error("Drop Error: Cannot find the drop element.");if(void 0!==v&&!this.popper){var n=this.element;this.popper=new v(n,this.drop,this._getPopperConfig())}this._addEventListeners(),o.allDrops.push(this)}return e(o,[{key:"isOpened",value:function(){return this.drop.classList.contains("open")}},{key:"isDisabled",value:function(){return this.element.disabled||this.element.classList.contains("disabled")}},{key:"toggle",value:function(){this.isOpened()?this.close():this.open()}},{key:"open",value:function(){var e=this;this.isDisabled()||this.isOpened()||(this.element.focus(),this.element.setAttribute("aria-expanded",!0),"ontouchstart"in document.documentElement&&y(document.body).children().on("mouseover",null,y.noop),this.drop.classList.add("open"),this.drop.setAttribute("aria-hidden",!0),this.popper&&this.popper.update(),setTimeout(function(){e.drop.classList.add("open--transition")}))}},{key:"close",value:function(){var e=this;!this.isDisabled()&&this.isOpened()&&("ontouchstart"in document.documentElement&&y(document.body).children().off("mouseover",null,y.noop),this.element.setAttribute("aria-expanded",!1),this.drop.removeAttribute("aria-hidden"),this.drop.classList.remove("open--transition"),D.onTransitionEnd(this.drop,function(){e.drop.classList.remove("open")}))}},{key:"_addEventListeners",value:function(){var t=this;if(this.options.openOn)if("always"!==this.options.openOn){var e=this.options.openOn.split(" ");0<=e.indexOf("click")&&(y(this.element).on("click",function(e){e.preventDefault(),t.toggle()}),y(document).on("click",function(e){t.isOpened()&&(e.target===t.drop||t.drop.contains(e.target)||e.target===t.element||t.element.contains(e.target)||t.close(e))})),e.indexOf("hover"),e.indexOf("focus")}else setTimeout(this.open.bind(this))}},{key:"_getDropElement",value:function(){if(!this.drop){var e=this.element.parentNode,t=D.getTargetFromElement(this.element);this.drop=t?document.querySelector(t):e?e.querySelector(this.options.drop):null}return this.drop}},{key:"_getPopperConfig",value:function(){var t=this,e={};"function"==typeof this.options.offset?e.fn=function(e){return e.offsets=Object.assign({},e.offsets,t.options.offset(e.offsets)||{}),e}:e.offset=this.options.offset;var n={placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this.options.flip},preventOverflow:{boundariesElement:this.options.boundary}}};return"static"===this.options.display&&(n.modifiers.applyStyle={enabled:!1}),n}},{key:"_getPlacement",value:function(){return"bottom-start"}}]),o}()).allDrops=[],g.defaults={drop:"[data-drop]",offset:0,flip:!0,openOn:"click",boundary:"scrollParent",reference:"toggle",display:"dynamic"},g);var O=jQuery,T=window.awebooking,_=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"customers",t=arguments[1],n=arguments[2];O.ajax({type:"GET",url:T.route("/search/"+e),data:{term:encodeURIComponent(t)},error:function(){n()},success:function(e){n(e)}})};function k(){O("select.awebooking-search-customer, .selectize-search-customer .cmb2_select").each(function(){!function(e){O(e).selectize({valueField:"id",labelField:"display",searchField:"display",dropdownParent:"body",placeholder:O(this).data("placeholder"),load:function(e,t){if(!e.length)return t();_("customers",e,t)}})}(this)}),O(".selectize-search-services").each(function(){!function(e){O(e).selectize({plugins:["remove_button","drag_drop"],valueField:"id",labelField:"name",searchField:["name","id"],dropdownParent:"body",placeholder:O(this).data("placeholder"),load:function(e,t){if(!e.length)return t();_("services",e,t)}})}(this)})}var j=window.awebooking||{};j.utils={},j.instances={},j.utils.flatpickrRangePlugin=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(r){var i="",a=void 0,t=void 0,e={onParseConfig:function(){r.config.mode="range",i=r.config.altInput?r.config.altFormat:r.config.dateFormat},onReady:function(){!function(){if(n.input?a=n.input instanceof Element?n.input:window.document.querySelector(n.input):((a=r._input.cloneNode()).removeAttribute("id"),a._flatpickr=void 0),a.value){var e=r.parseDate(a.value);e&&r.selectedDates.push(e)}a.setAttribute("data-fp-omit",""),r._bind(a,["focus","click"],function(){r.selectedDates[1]&&(r.latestSelectedDateObj=r.selectedDates[1],r._setHoursFromDate(r.selectedDates[1]),r.jumpToDate(r.selectedDates[1])),t=!0,r.isOpen=!1,r.open(void 0,a)}),r._bind(r._input,["focus","click"],function(e){e.preventDefault(),r.isOpen=!1,r.open()}),r.config.allowInput&&r._bind(a,"keydown",function(e){"Enter"===e.key&&(r.setDate([r.selectedDates[0],a.value],!0,i),a.click())}),n.input||r._input.parentNode&&r._input.parentNode.insertBefore(a,r._input.nextSibling)}(),r.config.ignoredFocusElements.push(a),r.config.allowInput?(r._input.removeAttribute("readonly"),a.removeAttribute("readonly")):a.setAttribute("readonly","readonly"),r._bind(r._input,"focus",function(){r.latestSelectedDateObj=r.selectedDates[0],r._setHoursFromDate(r.selectedDates[0]),t=!1}),r.config.allowInput&&r._bind(r._input,"keydown",function(e){"Enter"===e.key&&r.setDate([r._input.value,r.selectedDates[1]],!0,i)}),r.setDate(r.selectedDates,!1),e.onValueUpdate(r.selectedDates)},onPreCalendarPosition:function(){t&&(r._positionElement=a,setTimeout(function(){r._positionElement=r._input},0))},onValueUpdate:function(){if(a){var e=r.selectedDates.map(function(e){return r.formatDate(e,i)}),t=h(e,2),n=t[0];r._input.value=void 0===n?"":n;var o=t[1];a.value=void 0===o?"":o}},onChange:function(){r.selectedDates.length||setTimeout(function(){r.selectedDates.length||(a.value="")},10),t&&setTimeout(function(){a.focus()},0)},onDestroy:function(){n.input||a.parentNode&&a.parentNode.removeChild(a)}};return e}},j.route=function(e){return this.admin_route+e.replace(/^\//g,"")},j.alert=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"error";return swal({text:e,type:t,toast:!0,buttonsStyling:!1,showCancelButton:!1,showConfirmButton:!0,confirmButtonClass:"button"})},j.confirm=function(e,t){if(!window.swal)return window.confirm(e||this.i18n.warning)&&t();var n=window.swal({toast:!0,text:e||this.i18n.warning,type:"warning",position:"center",reverseButtons:!0,buttonsStyling:!1,showCancelButton:!0,cancelButtonClass:"button",confirmButtonClass:"button button-primary",cancelButtonText:this.i18n.cancel,confirmButtonText:this.i18n.ok});return t?n.then(function(e){e.value&&t(e)}):n},j.dialog=function(e){var t=r(e).dialog({modal:!0,width:"auto",height:"auto",autoOpen:!1,draggable:!1,resizable:!1,closeOnEscape:!0,dialogClass:"wp-dialog awebooking-dialog",position:{my:"center",at:"center center-15%",of:window}});return r(window).resize(function(t,n,o){var r,i,a,s,u;function c(){var e=Date.now()-s;e<n&&0<=e?r=setTimeout(c,n-e):(r=null,o||(u=t.apply(a,i),a=i=null))}null==n&&(n=100);var e=function(){a=this,i=arguments,s=Date.now();var e=o&&!r;return r||(r=setTimeout(c,n)),e&&(u=t.apply(a,i),a=i=null),u};return e.clear=function(){r&&(clearTimeout(r),r=null)},e.flush=function(){r&&(u=t.apply(a,i),a=i=null,clearTimeout(r),r=null)},e}(function(){t.dialog("option","position",{my:"center",at:"center center-15%",of:window})},150)),t},j.ajax=function(e,t,n,o){return r.ajax({url:j.route(t),data:n,method:e,dataType:"json"}).done(function(e){o&&o(e)}).fail(function(e){var t=e.responseJSON;t&&t.message?j.alert(t.message,"error"):j.alert(j.i18n.error,"error")})},j.createForm=function(e,t){var n=r("<form>",{method:"POST",action:e}),o=r("<input>",{name:"_method",type:"hidden",value:t});return n.append(o).appendTo("body")},j.formatPrice=function(e){return require("accounting").formatMoney(e,{format:j.i18n.priceFormat,symbol:j.i18n.currencySymbol,decimal:j.i18n.decimalSeparator,thousand:j.i18n.priceThousandSeparator,precision:j.i18n.numberDecimals})},j.utils.addQueryArgs=function(e,t){void 0===t&&(t=window.location.href);var n=w(t),o=r.extend({},n.query,e);return n.url+"?"+b(o,{sort:!1})},r(function(){window.tippy&&window.tippy(".tippy",{arrow:!0,animation:"shift-toward",duration:[200,150]}),r.fn.selectize&&(k(),r("select.selectize, .with-selectize .cmb2_select").selectize({allowEmptyOption:!0,searchField:["value","text"]})),r('[data-method="abrs-delete"]').on("click",function(e){e.preventDefault();var t=r(this).attr("href"),n=r(this).data("warning");j.confirm(n,function(){j.createForm(t,"DELETE").submit()})}),r('[data-init="abrs-dropdown"]').each(function(){r(this).data("abrs-dropdown",new E(this,{drop:".abrs-drop"}))})})}(jQuery);