!function i(a,u,s){function c(e,t){if(!u[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[e]={exports:{}};a[e][0].call(o.exports,function(t){return c(a[e][1][t]||t)},o,o.exports,i,a,u,s)}return u[e].exports}for(var l="function"==typeof require&&require,t=0;t<s.length;t++)c(s[t]);return c}({1:[function(e,t,n){"use strict";var o,i,r=e("debounce"),a=e("query-string"),u=e("../core/dropdown");o=jQuery,(i=window.awebooking||{}).utils={},i.instances={},i.utils.flatpickrRangePlugin=e("../core/range-dates.js"),i.route=function(t){return this.admin_route+t.replace(/^\//g,"")},i.alert=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"error";return swal({text:t,type:e,toast:!0,buttonsStyling:!1,showCancelButton:!1,showConfirmButton:!0,confirmButtonClass:"button"})},i.confirm=function(t,e){if(!window.swal)return window.confirm(t||this.i18n.warning)&&e();var n=window.swal({toast:!0,text:t||this.i18n.warning,type:"warning",position:"center",reverseButtons:!0,buttonsStyling:!1,showCancelButton:!0,cancelButtonClass:"button",confirmButtonClass:"button button-primary",cancelButtonText:this.i18n.cancel,confirmButtonText:this.i18n.ok});return e?n.then(function(t){t.value&&e(t)}):n},i.dialog=function(t){var e=o(t).dialog({modal:!0,width:"auto",height:"auto",autoOpen:!1,draggable:!1,resizable:!1,closeOnEscape:!0,dialogClass:"wp-dialog awebooking-dialog",position:{my:"center",at:"center center-15%",of:window}});return o(window).resize(r(function(){e.dialog("option","position",{my:"center",at:"center center-15%",of:window})},150)),e},i.ajax=function(t,e,n,r){return o.ajax({url:i.route(e),data:n,method:t,dataType:"json"}).done(function(t){r&&r(t)}).fail(function(t){var e=t.responseJSON;e&&e.message?i.alert(e.message,"error"):i.alert(i.i18n.error,"error")})},i.createForm=function(t,e){var n=o("<form>",{method:"POST",action:t}),r=o("<input>",{name:"_method",type:"hidden",value:e});return n.append(r).appendTo("body")},i.formatPrice=function(t){return e("accounting").formatMoney(t,{format:i.i18n.priceFormat,symbol:i.i18n.currencySymbol,decimal:i.i18n.decimalSeparator,thousand:i.i18n.priceThousandSeparator,precision:i.i18n.numberDecimals})},i.utils.addQueryArgs=function(t,e){void 0===e&&(e=window.location.href);var n=a.parseUrl(e),r=o.extend({},n.query,t);return n.url+"?"+a.stringify(r,{sort:!1})},o(function(){window.tippy&&window.tippy(".tippy",{arrow:!0,animation:"shift-toward",duration:[200,150]}),o.fn.selectize&&(e("./utils/search-customer.js")(),o("select.selectize, .with-selectize .cmb2_select").selectize({allowEmptyOption:!0,searchField:["value","text"]})),o('[data-method="abrs-delete"]').on("click",function(t){t.preventDefault();var e=o(this).attr("href"),n=o(this).data("warning");i.confirm(n,function(){i.createForm(e,"DELETE").submit()})}),o('[data-init="abrs-dropdown"]').each(function(){o(this).data("abrs-dropdown",new u(this,{drop:".abrs-drop"}))})})},{"../core/dropdown":3,"../core/range-dates.js":4,"./utils/search-customer.js":2,accounting:6,debounce:7,"query-string":9}],2:[function(t,e,n){"use strict";var r=jQuery,o=window.awebooking,i=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"customers",e=arguments[1],n=arguments[2];r.ajax({type:"GET",url:o.route("/search/"+t),data:{term:encodeURIComponent(e)},error:function(){n()},success:function(t){n(t)}})};e.exports=function(){r("select.awebooking-search-customer, .selectize-search-customer .cmb2_select").each(function(){!function(t){r(t).selectize({valueField:"id",labelField:"display",searchField:"display",dropdownParent:"body",placeholder:r(this).data("placeholder"),load:function(t,e){if(!t.length)return e();i("customers",t,e)}})}(this)}),r(".selectize-search-services").each(function(){!function(t){r(t).selectize({plugins:["remove_button","drag_drop"],valueField:"id",labelField:"name",searchField:["name","id"],dropdownParent:"body",placeholder:r(this).data("placeholder"),load:function(t,e){if(!t.length)return e();i("services",t,e)}})}(this)})}},{}],3:[function(t,e,n){"use strict";var o=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();var i,a,r,u=t("./util"),s=(i=jQuery,a=window.Popper,(r=function(){function r(t,e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.element=t,this.options=Object.assign({},r.defaults,e),this.drop=this._getDropElement(),this.popper=null,!this.drop||void 0===this.drop)throw new Error("Drop Error: Cannot find the drop element.");if(void 0!==a&&!this.popper){var n=this.element;this.popper=new a(n,this.drop,this._getPopperConfig())}this._addEventListeners(),r.allDrops.push(this)}return o(r,[{key:"isOpened",value:function(){return this.drop.classList.contains("open")}},{key:"isDisabled",value:function(){return this.element.disabled||this.element.classList.contains("disabled")}},{key:"toggle",value:function(){this.isOpened()?this.close():this.open()}},{key:"open",value:function(){var t=this;this.isDisabled()||this.isOpened()||(this.element.focus(),this.element.setAttribute("aria-expanded",!0),"ontouchstart"in document.documentElement&&i(document.body).children().on("mouseover",null,i.noop),this.drop.classList.add("open"),this.drop.setAttribute("aria-hidden",!0),this.popper&&this.popper.update(),setTimeout(function(){t.drop.classList.add("open--transition")}))}},{key:"close",value:function(){var t=this;!this.isDisabled()&&this.isOpened()&&("ontouchstart"in document.documentElement&&i(document.body).children().off("mouseover",null,i.noop),this.element.setAttribute("aria-expanded",!1),this.drop.removeAttribute("aria-hidden"),this.drop.classList.remove("open--transition"),u.onTransitionEnd(this.drop,function(){t.drop.classList.remove("open")}))}},{key:"_addEventListeners",value:function(){var e=this;if(this.options.openOn)if("always"!==this.options.openOn){var t=this.options.openOn.split(" ");0<=t.indexOf("click")&&(i(this.element).on("click",function(t){t.preventDefault(),e.toggle()}),i(document).on("click",function(t){e.isOpened()&&(t.target===e.drop||e.drop.contains(t.target)||t.target===e.element||e.element.contains(t.target)||e.close(t))})),t.indexOf("hover"),t.indexOf("focus")}else setTimeout(this.open.bind(this))}},{key:"_getDropElement",value:function(){if(!this.drop){var t=this.element.parentNode,e=u.getTargetFromElement(this.element);this.drop=e?document.querySelector(e):t?t.querySelector(this.options.drop):null}return this.drop}},{key:"_getPopperConfig",value:function(){var e=this,t={};"function"==typeof this.options.offset?t.fn=function(t){return t.offsets=Object.assign({},t.offsets,e.options.offset(t.offsets)||{}),t}:t.offset=this.options.offset;var n={placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this.options.flip},preventOverflow:{boundariesElement:this.options.boundary}}};return"static"===this.options.display&&(n.modifiers.applyStyle={enabled:!1}),n}},{key:"_getPlacement",value:function(){return"bottom-start"}}]),r}()).allDrops=[],r.defaults={drop:"[data-drop]",offset:0,flip:!0,openOn:"click",boundary:"scrollParent",reference:"toggle",display:"dynamic"},r);e.exports=s},{"./util":5}],4:[function(t,e,n){"use strict";var u=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};e.exports=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(o){var i="",a=void 0,e=void 0,t={onParseConfig:function(){o.config.mode="range",i=o.config.altInput?o.config.altFormat:o.config.dateFormat},onReady:function(){!function(){if(n.input?a=n.input instanceof Element?n.input:window.document.querySelector(n.input):((a=o._input.cloneNode()).removeAttribute("id"),a._flatpickr=void 0),a.value){var t=o.parseDate(a.value);t&&o.selectedDates.push(t)}a.setAttribute("data-fp-omit",""),o._bind(a,["focus","click"],function(){o.selectedDates[1]&&(o.latestSelectedDateObj=o.selectedDates[1],o._setHoursFromDate(o.selectedDates[1]),o.jumpToDate(o.selectedDates[1])),e=!!1,o.isOpen=!1,o.open(void 0,a)}),o._bind(o._input,["focus","click"],function(t){t.preventDefault(),o.isOpen=!1,o.open()}),o.config.allowInput&&o._bind(a,"keydown",function(t){"Enter"===t.key&&(o.setDate([o.selectedDates[0],a.value],!0,i),a.click())}),n.input||o._input.parentNode&&o._input.parentNode.insertBefore(a,o._input.nextSibling)}(),o.config.ignoredFocusElements.push(a),o.config.allowInput?(o._input.removeAttribute("readonly"),a.removeAttribute("readonly")):a.setAttribute("readonly","readonly"),o._bind(o._input,"focus",function(){o.latestSelectedDateObj=o.selectedDates[0],o._setHoursFromDate(o.selectedDates[0]),e=!!0}),o.config.allowInput&&o._bind(o._input,"keydown",function(t){"Enter"===t.key&&o.setDate([o._input.value,o.selectedDates[1]],!0,i)}),o.setDate(o.selectedDates,!1),t.onValueUpdate(o.selectedDates)},onPreCalendarPosition:function(){e&&(o._positionElement=a,setTimeout(function(){o._positionElement=o._input},0))},onValueUpdate:function(){if(a){var t=o.selectedDates.map(function(t){return o.formatDate(t,i)}),e=u(t,2),n=e[0];o._input.value=void 0===n?"":n;var r=e[1];a.value=void 0===r?"":r}},onChange:function(){o.selectedDates.length||setTimeout(function(){o.selectedDates.length||(a.value="")},10),e&&setTimeout(function(){a.focus()},0)},onDestroy:function(){n.input||a.parentNode&&a.parentNode.removeChild(a)}};return t}}},{}],5:[function(t,e,n){"use strict";var o;e.exports=(o=jQuery,{TRANSITION_END:function(){var t="",e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(var n in e)({}).hasOwnProperty.call(e,n)&&void 0!==document.createElement("p").style[n]&&(t=e[n]);return t}(),onTransitionEnd:function(t,e){var n=this,r=!1;o(t).one(this.TRANSITION_END,function(){e(),r=!0}),setTimeout(function(){r||o(t).trigger(n.TRANSITION_END)},this.getTransitionDurationFromElement(t))},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=o(t).css("transition-duration");return parseFloat(e)?(e=e.split(",")[0],1e3*parseFloat(e)):0},getTargetFromElement:function(t){var e=t.getAttribute("data-target");e&&"#"!==e||(e=t.getAttribute("href")||"");try{return document.querySelector(e)?e:null}catch(t){return null}}})},{}],6:[function(t,i,u){"use strict";!function(t,e){var l={version:"0.4.1",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},a=Array.prototype.map,n=Array.isArray,r=Object.prototype.toString;function f(t){return!!(""===t||t&&t.charCodeAt&&t.substr)}function d(t){return n?n(t):"[object Array]"===r.call(t)}function p(t){return t&&"[object Object]"===r.call(t)}function m(t,e){var n;for(n in t=t||{},e=e||{})e.hasOwnProperty(n)&&null==t[n]&&(t[n]=e[n]);return t}function h(t,e,n){var r,o,i=[];if(!t)return i;if(a&&t.map===a)return t.map(e,n);for(r=0,o=t.length;r<o;r++)i[r]=e.call(n,t[r],r,t);return i}function y(t,e){return t=Math.round(Math.abs(t)),isNaN(t)?e:t}function v(t){var e=l.settings.currency.format;return"function"==typeof t&&(t=t()),f(t)&&t.match("%v")?{pos:t,neg:t.replace("-","").replace("%v","-%v"),zero:t}:t&&t.pos&&t.pos.match("%v")?t:f(e)?l.settings.currency.format={pos:e,neg:e.replace("%v","-%v"),zero:e}:e}var o,g=l.unformat=l.parse=function(t,e){if(d(t))return h(t,function(t){return g(t,e)});if("number"==typeof(t=t||0))return t;e=e||l.settings.number.decimal;var n=new RegExp("[^0-9-"+e+"]",["g"]),r=parseFloat((""+t).replace(/\((.*)\)/,"-$1").replace(n,"").replace(e,"."));return isNaN(r)?0:r},c=l.toFixed=function(t,e){e=y(e,l.settings.number.precision);var n=Math.pow(10,e);return(Math.round(l.unformat(t)*n)/n).toFixed(e)},b=l.formatNumber=l.format=function(t,e,n,r){if(d(t))return h(t,function(t){return b(t,e,n,r)});t=g(t);var o=m(p(e)?e:{precision:e,thousand:n,decimal:r},l.settings.number),i=y(o.precision),a=t<0?"-":"",u=parseInt(c(Math.abs(t||0),i),10)+"",s=3<u.length?u.length%3:0;return a+(s?u.substr(0,s)+o.thousand:"")+u.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+o.thousand)+(i?o.decimal+c(Math.abs(t),i).split(".")[1]:"")},s=l.formatMoney=function(t,e,n,r,o,i){if(d(t))return h(t,function(t){return s(t,e,n,r,o,i)});t=g(t);var a=m(p(e)?e:{symbol:e,precision:n,thousand:r,decimal:o,format:i},l.settings.currency),u=v(a.format);return(0<t?u.pos:t<0?u.neg:u.zero).replace("%s",a.symbol).replace("%v",b(Math.abs(t),y(a.precision),a.thousand,a.decimal))};l.formatColumn=function(t,e,n,r,o,i){if(!t)return[];var a=m(p(e)?e:{symbol:e,precision:n,thousand:r,decimal:o,format:i},l.settings.currency),u=v(a.format),s=u.pos.indexOf("%s")<u.pos.indexOf("%v"),c=0;return h(h(t,function(t,e){if(d(t))return l.formatColumn(t,a);var n=(0<(t=g(t))?u.pos:t<0?u.neg:u.zero).replace("%s",a.symbol).replace("%v",b(Math.abs(t),y(a.precision),a.thousand,a.decimal));return n.length>c&&(c=n.length),n}),function(t,e){return f(t)&&t.length<c?s?t.replace(a.symbol,a.symbol+new Array(c-t.length+1).join(" ")):new Array(c-t.length+1).join(" ")+t:t})},void 0!==u?(void 0!==i&&i.exports&&(u=i.exports=l),u.accounting=l):"function"==typeof define&&define.amd?define([],function(){return l}):(l.noConflict=(o=t.accounting,function(){return t.accounting=o,l.noConflict=void 0,l}),t.accounting=l)}(void 0)},{}],7:[function(t,e,n){"use strict";e.exports=function(e,n,r){var o,i,a,u,s;function c(){var t=Date.now()-u;t<n&&0<=t?o=setTimeout(c,n-t):(o=null,r||(s=e.apply(a,i),a=i=null))}null==n&&(n=100);var t=function(){a=this,i=arguments,u=Date.now();var t=r&&!o;return o||(o=setTimeout(c,n)),t&&(s=e.apply(a,i),a=i=null),s};return t.clear=function(){o&&(clearTimeout(o),o=null)},t.flush=function(){o&&(s=e.apply(a,i),a=i=null,clearTimeout(o),o=null)},t}},{}],8:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o="%[a-f0-9]{2}",i=new RegExp(o,"gi"),u=new RegExp("("+o+")+","gi");function a(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],a(n),a(r))}function s(e){try{return decodeURIComponent(e)}catch(t){for(var n=e.match(i),r=1;r<n.length;r++)n=(e=a(n,r).join("")).match(i);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+(void 0===e?"undefined":r(e))+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=u.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=s(n[0]);r!==n[0]&&(e[n[0]]=r)}n=u.exec(t)}e["%C2"]="�";for(var o=Object.keys(e),i=0;i<o.length;i++){var a=o[i];t=t.replace(new RegExp(a,"g"),e[a])}return t}(e)}}},{}],9:[function(t,e,n){"use strict";var p=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t("strict-uri-encode"),o=t("decode-uri-component");function d(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function h(t,e){return e.decode?o(t):t}function i(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function a(t,e){var n=function(t){var r=void 0;switch(t.arrayFormat){case"index":return function(t,e,n){r=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),r?(void 0===n[t]&&(n[t]={}),n[t][r[1]]=e):n[t]=e};case"bracket":return function(t,e,n){r=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),r?void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=[e]:n[t]=e};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=Object.assign({decode:!0,arrayFormat:"none"},e)),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;var o=!0,i=!1,a=void 0;try{for(var u,s=t.split("&")[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value.replace(/\+/g," ").split("="),l=p(c,2),f=l[0],d=l[1];d=void 0===d?null:h(d,e),n(h(f,e),d,r)}}catch(t){i=!0,a=t}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}return Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"===(void 0===n?"undefined":m(n))&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"===(void 0===e?"undefined":m(e))?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(n):t[e]=n,t},Object.create(null))}n.extract=i,n.parse=a,n.stringify=function(c,l){!1===(l=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},l)).sort&&(l.sort=function(){});var f=function(r){switch(r.arrayFormat){case"index":return function(t,e,n){return null===e?[d(t,r),"[",n,"]"].join(""):[d(t,r),"[",d(n,r),"]=",d(e,r)].join("")};case"bracket":return function(t,e){return null===e?[d(t,r),"[]"].join(""):[d(t,r),"[]=",d(e,r)].join("")};default:return function(t,e){return null===e?d(t,r):[d(t,r),"=",d(e,r)].join("")}}}(l);return c?Object.keys(c).sort(l.sort).map(function(t){var e=c[t];if(void 0===e)return"";if(null===e)return d(t,l);if(Array.isArray(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e.slice()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;void 0!==s&&n.push(f(t,s,n.length))}}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n.join("&")}return d(t,l)+"="+d(e,l)}).filter(function(t){return 0<t.length}).join("&"):""},n.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:a(i(t),e)}}},{"decode-uri-component":8,"strict-uri-encode":10}],10:[function(t,e,n){"use strict";e.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},{}]},{},[1]);