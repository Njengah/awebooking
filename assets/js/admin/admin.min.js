!function(c){"use strict";function e(t,n,o){var r,i,a,s,c;function u(){var e=Date.now()-s;e<n&&0<=e?r=setTimeout(u,n-e):(r=null,o||(c=t.apply(a,i),a=i=null))}null==n&&(n=100);var e=function(){a=this,i=arguments,s=Date.now();var e=o&&!r;return r||(r=setTimeout(u,n)),e&&(c=t.apply(a,i),a=i=null),c};return e.clear=function(){r&&(clearTimeout(r),r=null)},e.flush=function(){r&&(c=t.apply(a,i),a=i=null,clearTimeout(r),r=null)},e}c=c&&c.hasOwnProperty("default")?c.default:c;var n=e.debounce=e,t=r,o=r;function r(e){return e||"undefined"==typeof navigator||(e=navigator.userAgent),e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),"string"==typeof e&&(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.isMobile=o;var a=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})},s="%[a-f0-9]{2}",u=new RegExp(s,"gi"),l=new RegExp("("+s+")+","gi");function d(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],d(n),d(o))}function m(t){try{return decodeURIComponent(t)}catch(e){for(var n=t.match(u),o=1;o<n.length;o++)n=(t=d(n,o).join("")).match(u);return t}}var h=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+p(t)+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=l.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var o=m(n[0]);o!==n[0]&&(t[n[0]]=o)}n=l.exec(e)}t["%C2"]="�";for(var r=Object.keys(t),i=0;i<r.length;i++){var a=r[i];e=e.replace(new RegExp(a,"g"),t[a])}return e}(t)}};function v(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function y(e,t){return t.decode?h(e):e}function g(e,t){var n=function(e){var o;switch(e.arrayFormat){case"index":return function(e,t,n){o=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),o?(void 0===n[e]&&(n[e]={}),n[e][o[1]]=t):n[e]=t};case"bracket":return function(e,t,n){o=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),o?void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=[t]:n[e]=t};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=Object.assign({decode:!0,arrayFormat:"none"},t)),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;var r=!0,i=!1,a=void 0;try{for(var s,c=e.split("&")[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=f(s.value.replace(/\+/g," ").split("="),2),l=u[0],d=u[1];d=void 0===d?null:y(d,t),n(y(l,t),d,o)}}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return Object.keys(o).sort().reduce(function(e,t){var n=o[t];return Boolean(n)&&"object"===p(n)&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===p(t)?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(n):e[t]=n,e},Object.create(null))}var b,w,k,x=function(u,l){!1===(l=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},l)).sort&&(l.sort=function(){});var d=function(o){switch(o.arrayFormat){case"index":return function(e,t,n){return null===t?[v(e,o),"[",n,"]"].join(""):[v(e,o),"[",v(n,o),"]=",v(t,o)].join("")};case"bracket":return function(e,t){return null===t?[v(e,o),"[]"].join(""):[v(e,o),"[]=",v(t,o)].join("")};default:return function(e,t){return null===t?v(e,o):[v(e,o),"=",v(t,o)].join("")}}}(l);return u?Object.keys(u).sort(l.sort).map(function(e){var t=u[e];if(void 0===t)return"";if(null===t)return v(e,l);if(Array.isArray(t)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t.slice()[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;void 0!==c&&n.push(d(e,c,n.length))}}catch(e){r=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return n.join("&")}return v(e,l)+"="+v(t,l)}).filter(function(e){return 0<e.length}).join("&"):""},j=(b=jQuery,w=window.Popper,(k=function(){function o(e,t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.element=e,this.options=Object.assign({},o.defaults,t),this.drop=this._getDropElement(),this.popper=null,!this.drop||void 0===this.drop)throw new Error("Drop Error: Cannot find the drop element.");if(void 0!==w&&!this.popper){var n=this.element;this.popper=new w(n,this.drop,this._getPopperConfig())}this._addEventListeners(),o.allDrops.push(this)}var e,t,n;return e=o,(t=[{key:"isOpened",value:function(){return this.drop.classList.contains("open")}},{key:"isDisabled",value:function(){return this.element.disabled||this.element.classList.contains("disabled")}},{key:"toggle",value:function(){this.isOpened()?this.close():this.open()}},{key:"open",value:function(){var e=this;this.isDisabled()||this.isOpened()||(this.element.focus(),this.element.setAttribute("aria-expanded",!0),"ontouchstart"in document.documentElement&&b(document.body).children().on("mouseover",null,b.noop),this.drop.classList.add("open"),this.drop.setAttribute("aria-hidden",!0),this.popper&&this.popper.update(),setTimeout(function(){e.drop.classList.add("open--transition")}))}},{key:"close",value:function(){var e=this;!this.isDisabled()&&this.isOpened()&&("ontouchstart"in document.documentElement&&b(document.body).children().off("mouseover",null,b.noop),this.element.setAttribute("aria-expanded",!1),this.drop.removeAttribute("aria-hidden"),this.drop.classList.remove("open--transition"),Util.onTransitionEnd(this.drop,function(){e.drop.classList.remove("open")}))}},{key:"_addEventListeners",value:function(){var t=this;if(this.options.openOn)if("always"!==this.options.openOn){var e=this.options.openOn.split(" ");0<=e.indexOf("click")&&(b(this.element).on("click",function(e){e.preventDefault(),t.toggle()}),b(document).on("click",function(e){t.isOpened()&&(e.target===t.drop||t.drop.contains(e.target)||e.target===t.element||t.element.contains(e.target)||t.close(e))})),e.indexOf("hover"),e.indexOf("focus")}else setTimeout(this.open.bind(this))}},{key:"_getDropElement",value:function(){if(!this.drop){var e=this.element.parentNode,t=Util.getTargetFromElement(this.element);this.drop=t?document.querySelector(t):e?e.querySelector(this.options.drop):null}return this.drop}},{key:"_getPopperConfig",value:function(){var t=this,e={};"function"==typeof this.options.offset?e.fn=function(e){return e.offsets=Object.assign({},e.offsets,t.options.offset(e.offsets)||{}),e}:e.offset=this.options.offset;var n={placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this.options.flip},preventOverflow:{boundariesElement:this.options.boundary}}};return"static"===this.options.display&&(n.modifiers.applyStyle={enabled:!1}),n}},{key:"_getPlacement",value:function(){return"bottom-start"}}])&&i(e.prototype,t),n&&i(e,n),o}()).allDrops=[],k.defaults={drop:"[data-drop]",offset:0,flip:!0,openOn:"click",boundary:"scrollParent",reference:"toggle",display:"dynamic"},k);var D=jQuery,O=window.awebooking,_=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"customers",t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0;D.ajax({type:"GET",url:O.route("/search/".concat(e)),data:{term:encodeURIComponent(t)},error:function(){n()},success:function(e){n(e)}})};function E(){D("select.awebooking-search-customer, .selectize-search-customer .cmb2_select").each(function(){!function(e){D(e).selectize({valueField:"id",labelField:"display",searchField:"display",dropdownParent:"body",placeholder:D(this).data("placeholder"),load:function(e,t){if(!e.length)return t();_("customers",e,t)}})}(this)}),D(".selectize-search-services").each(function(){!function(e){D(e).selectize({plugins:["remove_button","drag_drop"],valueField:"id",labelField:"name",searchField:["name","id"],dropdownParent:"body",placeholder:D(this).data("placeholder"),load:function(e,t){if(!e.length)return t();_("services",e,t)}})}(this)})}"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var F,A=(function(r,i){!function(e,t){var l={version:"0.4.1",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},a=Array.prototype.map,n=Array.isArray,o=Object.prototype.toString;function d(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function p(e){return n?n(e):"[object Array]"===o.call(e)}function f(e){return e&&"[object Object]"===o.call(e)}function m(e,t){var n;for(n in e=e||{},t=t||{})t.hasOwnProperty(n)&&null==e[n]&&(e[n]=t[n]);return e}function h(e,t,n){var o,r,i=[];if(!e)return i;if(a&&e.map===a)return e.map(t,n);for(o=0,r=e.length;o<r;o++)i[o]=t.call(n,e[o],o,e);return i}function v(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function y(e){var t=l.settings.currency.format;return"function"==typeof e&&(e=e()),d(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:d(t)?l.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}var g=l.unformat=l.parse=function(e,t){if(p(e))return h(e,function(e){return g(e,t)});if("number"==typeof(e=e||0))return e;t=t||l.settings.number.decimal;var n=new RegExp("[^0-9-"+t+"]",["g"]),o=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(n,"").replace(t,"."));return isNaN(o)?0:o},u=l.toFixed=function(e,t){t=v(t,l.settings.number.precision);var n=Math.pow(10,t);return(Math.round(l.unformat(e)*n)/n).toFixed(t)},b=l.formatNumber=l.format=function(e,t,n,o){if(p(e))return h(e,function(e){return b(e,t,n,o)});e=g(e);var r=m(f(t)?t:{precision:t,thousand:n,decimal:o},l.settings.number),i=v(r.precision),a=e<0?"-":"",s=parseInt(u(Math.abs(e||0),i),10)+"",c=3<s.length?s.length%3:0;return a+(c?s.substr(0,c)+r.thousand:"")+s.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+r.thousand)+(i?r.decimal+u(Math.abs(e),i).split(".")[1]:"")},c=l.formatMoney=function(e,t,n,o,r,i){if(p(e))return h(e,function(e){return c(e,t,n,o,r,i)});e=g(e);var a=m(f(t)?t:{symbol:t,precision:n,thousand:o,decimal:r,format:i},l.settings.currency),s=y(a.format);return(0<e?s.pos:e<0?s.neg:s.zero).replace("%s",a.symbol).replace("%v",b(Math.abs(e),v(a.precision),a.thousand,a.decimal))};l.formatColumn=function(e,t,n,o,r,i){if(!e)return[];var a=m(f(t)?t:{symbol:t,precision:n,thousand:o,decimal:r,format:i},l.settings.currency),s=y(a.format),c=s.pos.indexOf("%s")<s.pos.indexOf("%v"),u=0;return h(h(e,function(e,t){if(p(e))return l.formatColumn(e,a);var n=(0<(e=g(e))?s.pos:e<0?s.neg:s.zero).replace("%s",a.symbol).replace("%v",b(Math.abs(e),v(a.precision),a.thousand,a.decimal));return n.length>u&&(u=n.length),n}),function(e,t){return d(e)&&e.length<u?c?e.replace(a.symbol,a.symbol+new Array(u-e.length+1).join(" ")):new Array(u-e.length+1).join(" ")+e:e})},r.exports&&(i=r.exports=l),i.accounting=l}()}(F={exports:{}},F.exports),F.exports),C=(A.accounting,window.awebooking||{});C.utils={},C.instances={},C.isMobile=t,C.utils.flatpickrRangePlugin=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(o){var r,t,i="",e={onParseConfig:function(){o.config.mode="range",i=o.config.altInput?o.config.altFormat:o.config.dateFormat},onReady:function(){!function(){if(n.input?r=n.input instanceof Element?n.input:window.document.querySelector(n.input):((r=o._input.cloneNode()).removeAttribute("id"),r._flatpickr=void 0),r.value){var e=o.parseDate(r.value);e&&o.selectedDates.push(e)}r.setAttribute("data-fp-omit",""),o._bind(r,["focus","click"],function(){o.selectedDates[1]&&(o.latestSelectedDateObj=o.selectedDates[1],o._setHoursFromDate(o.selectedDates[1]),o.jumpToDate(o.selectedDates[1])),t=!0,o.isOpen=!1,o.open(void 0,r)}),o._bind(o._input,["focus","click"],function(e){e.preventDefault(),o.isOpen=!1,o.open()}),o.config.allowInput&&o._bind(r,"keydown",function(e){"Enter"===e.key&&(o.setDate([o.selectedDates[0],r.value],!0,i),r.click())}),n.input||o._input.parentNode&&o._input.parentNode.insertBefore(r,o._input.nextSibling)}(),o.config.ignoredFocusElements.push(r),o.config.allowInput?(o._input.removeAttribute("readonly"),r.removeAttribute("readonly")):r.setAttribute("readonly","readonly"),o._bind(o._input,"focus",function(){o.latestSelectedDateObj=o.selectedDates[0],o._setHoursFromDate(o.selectedDates[0]),t=!1}),o.config.allowInput&&o._bind(o._input,"keydown",function(e){"Enter"===e.key&&o.setDate([o._input.value,o.selectedDates[1]],!0,i)}),o.setDate(o.selectedDates,!1),e.onValueUpdate(o.selectedDates)},onPreCalendarPosition:function(){t&&(o._positionElement=r,setTimeout(function(){o._positionElement=o._input},0))},onValueUpdate:function(){if(r){var e=f(o.selectedDates.map(function(e){return o.formatDate(e,i)}),2),t=e[0];o._input.value=void 0===t?"":t;var n=e[1];r.value=void 0===n?"":n}},onChange:function(){o.selectedDates.length||setTimeout(function(){o.selectedDates.length||(r.value="")},10),t&&setTimeout(function(){r.focus()},0)},onDestroy:function(){n.input||r.parentNode&&r.parentNode.removeChild(r)}};return e}},C.route=function(e){return this.admin_route+e.replace(/^\//g,"")},C.alert=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"error";return swal({text:e,type:t,toast:!0,buttonsStyling:!1,showCancelButton:!1,showConfirmButton:!0,confirmButtonClass:"button"})},C.confirm=function(e,t){if(!window.swal)return window.confirm(e||this.i18n.warning)&&t();var n=window.swal({toast:!0,text:e||this.i18n.warning,type:"warning",position:"center",reverseButtons:!0,buttonsStyling:!1,showCancelButton:!0,cancelButtonClass:"button",confirmButtonClass:"button button-primary",cancelButtonText:this.i18n.cancel,confirmButtonText:this.i18n.ok});return t?n.then(function(e){e.value&&t(e)}):n},C.dialog=function(e){var t=c(e).dialog({modal:!0,width:"auto",height:"auto",autoOpen:!1,draggable:!1,resizable:!1,closeOnEscape:!0,dialogClass:"wp-dialog awebooking-dialog",position:{my:"center",at:"center center-15%",of:window}});return c(window).resize(n(function(){t.dialog("option","position",{my:"center",at:"center center-15%",of:window})},150)),t},C.ajax=function(e,t,n,o){return c.ajax({url:C.route(t),data:n,method:e,dataType:"json"}).done(function(e){o&&o(e)}).fail(function(e){var t=e.responseJSON;t&&t.message?C.alert(t.message,"error"):C.alert(C.i18n.error,"error")})},C.createForm=function(e,t){var n=c("<form>",{method:"POST",action:e}),o=c("<input>",{name:"_method",type:"hidden",value:t});return n.append(o).appendTo("body")},C.formatPrice=function(e){return A.formatMoney(e,{format:C.i18n.priceFormat,symbol:C.i18n.currencySymbol,decimal:C.i18n.decimalSeparator,thousand:C.i18n.priceThousandSeparator,precision:C.i18n.numberDecimals})},C.utils.addQueryArgs=function(e,t){void 0===t&&(t=window.location.href);var n,o,r,i,a={url:(n=t).split("?")[0]||"",query:g((r=n,i=r.indexOf("?"),-1===i?"":r.slice(i+1)),o)},s=c.extend({},a.query,e);return a.url+"?"+x(s,{sort:!1})},c(function(){window.tippy&&window.tippy(".tippy",{arrow:!0,animation:"shift-toward",duration:[200,150]}),c.fn.selectize&&(E(),c("select.selectize, .with-selectize .cmb2_select").selectize({allowEmptyOption:!0,searchField:["value","text"]})),c('[data-method="abrs-delete"]').on("click",function(e){e.preventDefault();var t=c(this).attr("href"),n=c(this).data("warning");C.confirm(n,function(){C.createForm(t,"DELETE").submit()})}),c('[data-init="abrs-dropdown"]').each(function(){c(this).data("abrs-dropdown",new j(this,{drop:".abrs-drop"}))})})}(jQuery);